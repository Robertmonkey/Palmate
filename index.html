    .pal-card--natural {
      border: 1px solid rgba(170, 255, 219, 0.4);
      box-shadow: 0 0 0 2px rgba(42, 157, 143, 0.25);
    }
    body.kid-mode .pal-card--natural {
      box-shadow: 0 0 0 2px rgba(224, 225, 221, 0.35);
    }
    .pal-card__ribbon {
      position: absolute;
      top: 10px;
      left: 10px;
      padding: 4px 8px;
      border-radius: 999px;
      background: linear-gradient(135deg, rgba(42, 157, 143, 0.85), rgba(119, 141, 169, 0.85));
      color: #fff;
      font-size: 0.68rem;
      font-weight: 700;
      letter-spacing: 0.05em;
      text-transform: uppercase;
      box-shadow: 0 2px 6px rgba(0,0,0,0.35);
      pointer-events: none;
    }
    body.kid-mode .pal-card__ribbon {
      font-size: 0.7rem;
      letter-spacing: 0.04em;
    }
    .trait-selector__naturals {
      display: flex;
      flex-direction: column;
      gap: 8px;
      margin: 12px 0;
      padding: 10px;
      border-radius: 12px;
      border: 1px solid rgba(119, 141, 169, 0.35);
      background: rgba(65, 90, 119, 0.25);
    }
    body.kid-mode .trait-selector__naturals {
      background: rgba(119, 141, 169, 0.35);
      border-color: rgba(224, 225, 221, 0.4);
    }
    .trait-selector__naturals-label {
      margin: 0;
      font-size: 0.85rem;
      font-weight: 600;
      letter-spacing: 0.02em;
      color: var(--accent);
    }
    body.kid-mode .trait-selector__naturals-label {
      color: var(--text);
    }
    .trait-selector__naturals-list {
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
    }
    .trait-selector__naturals-chip {
      border: 1px solid rgba(119, 141, 169, 0.45);
      border-radius: 999px;
      background: rgba(13, 27, 42, 0.25);
      padding: 0;
      cursor: pointer;
      transition: transform 0.2s ease, border-color 0.2s ease, box-shadow 0.2s ease;
    }
    body.kid-mode .trait-selector__naturals-chip {
      background: rgba(13, 27, 42, 0.2);
    }
    .trait-selector__naturals-chip:hover,
    .trait-selector__naturals-chip:focus-visible {
      transform: translateY(-2px);
      border-color: var(--accent);
      box-shadow: 0 0 0 2px rgba(119, 141, 169, 0.35);
      outline: none;
    }
    .trait-selector__naturals-chip--active {
      border-color: var(--accent);
      box-shadow: 0 0 0 2px rgba(119, 141, 169, 0.45);
    }
    .trait-selector__naturals-chip .breeding-chip {
      pointer-events: none;
    }
    .trait-outcome--natural {
      border-color: rgba(42, 157, 143, 0.4);
      background: rgba(42, 157, 143, 0.08);
    }
    .trait-outcome__meta {
      display: flex;
      align-items: center;
      gap: 8px;
      margin-left: auto;
    }
    .trait-outcome__badge {
      font-size: 0.75rem;
      font-weight: 600;
      letter-spacing: 0.08em;
      text-transform: uppercase;
      padding: 4px 10px;
      border-radius: 999px;
      background: rgba(42, 157, 143, 0.18);
      color: var(--success);
    }
    body.kid-mode .trait-outcome__badge {
      color: var(--text);
      background: rgba(42, 157, 143, 0.35);
    }
                    <div id="traitNaturalCarriers" class="trait-selector__naturals" hidden>
                      <p id="traitNaturalCarrierLabel" class="trait-selector__naturals-label"></p>
                      <div id="traitNaturalCarrierList" class="trait-selector__naturals-list" role="list"></div>
                    </div>
    let PASSIVE_NATURAL_CARRIERS = new Map();
    let PAL_NATURAL_TRAITS = new Map();
    function rebuildNaturalPassiveMaps() {
      PASSIVE_NATURAL_CARRIERS = new Map();
      PAL_NATURAL_TRAITS = new Map();
      if (!PASSIVE_DETAILS || typeof PASSIVE_DETAILS !== 'object') {
        return;
      }
      Object.entries(PASSIVE_DETAILS).forEach(([traitName, detail]) => {
        if (!detail) return;
        const naturalNames = Array.isArray(detail.naturalOn) ? detail.naturalOn : [];
        const carriers = [];
        const idSet = new Set();
        naturalNames.forEach(rawName => {
          const lookupName = (rawName || '').trim();
          if (!lookupName) return;
          const pal = findPalByName(lookupName);
          if (!pal || pal.id == null || idSet.has(pal.id)) return;
          idSet.add(pal.id);
          carriers.push(pal);
          if (!PAL_NATURAL_TRAITS.has(pal.id)) {
            PAL_NATURAL_TRAITS.set(pal.id, new Set());
          }
          PAL_NATURAL_TRAITS.get(pal.id).add(traitName);
        });
        if (carriers.length) {
          carriers.sort((a, b) => a.name.localeCompare(b.name, undefined, { sensitivity: 'base' }));
          PASSIVE_NATURAL_CARRIERS.set(traitName, { pals: carriers, ids: idSet });
        }
      });
    }

    function getNaturalCarrierRecord(traitName) {
      const key = (traitName || '').trim();
      if (!key) return null;
      return PASSIVE_NATURAL_CARRIERS.get(key) || null;
    }

    function getNaturalCarriers(traitName) {
      const record = getNaturalCarrierRecord(traitName);
      return record ? record.pals.slice() : [];
    }

    function isPalNaturalCarrier(palId, traitName) {
      if (palId == null) return false;
      const record = getNaturalCarrierRecord(traitName);
      return record ? record.ids.has(palId) : false;
    }

    function getNaturalTraitsForPal(palId) {
      if (palId == null) return [];
      const entry = PAL_NATURAL_TRAITS.get(palId);
      if (!entry || !entry.size) return [];
      return Array.from(entry).sort((a, b) => a.localeCompare(b, undefined, { sensitivity: 'base' }));
    }

        rebuildNaturalPassiveMaps();
      const traitNaturalsContainer = document.getElementById('traitNaturalCarriers');
      const traitNaturalsLabel = document.getElementById('traitNaturalCarrierLabel');
      const traitNaturalsList = document.getElementById('traitNaturalCarrierList');
      if (!parent1Grid || !parent2Grid || !babyGrid || !result || !combosContainer || !parent1Search || !parent2Search || !babySearch || !advisorGrid || !advisorEmpty || !advisorTitle || !advisorCopy || !atlasGrid || !atlasSearch || !atlasDiagram || !atlasEmpty || !traitSearch || !traitSuggestionList || !traitDescription || !traitSummary || !traitNaturalsContainer || !traitNaturalsList || !traitClear || !traitCarrierGrid || !traitCarrierSearch || !traitTargetGrid || !traitTargetSearch || !traitOutcomeTitle || !traitOutcomeCopy || !traitOutcomeList || !traitGuideTitle || !traitGuideCopy || !traitGuideBody) {
        renderTraitNaturalCarriers();
      }

      function renderTraitNaturalCarriers() {
        if (!traitNaturalsContainer || !traitNaturalsList) return;
        traitNaturalsList.innerHTML = '';
        if (!selectedTrait) {
          traitNaturalsContainer.hidden = true;
          traitNaturalsContainer.setAttribute('aria-hidden', 'true');
          return;
        }
        const carriers = getNaturalCarriers(selectedTrait);
        if (!carriers.length) {
          traitNaturalsContainer.hidden = true;
          traitNaturalsContainer.setAttribute('aria-hidden', 'true');
          return;
        }
        traitNaturalsContainer.hidden = false;
        traitNaturalsContainer.setAttribute('aria-hidden', 'false');
        if (traitNaturalsLabel) {
          traitNaturalsLabel.textContent = kidMode ? 'Born with this passive' : 'Natural carriers';
        }
        const currentCarrierId = traitState.carrier ? traitState.carrier.id : null;
        carriers.forEach(pal => {
          const btn = document.createElement('button');
          btn.type = 'button';
          btn.className = 'trait-selector__naturals-chip';
          btn.setAttribute('role', 'listitem');
          btn.dataset.palId = pal.id != null ? String(pal.id) : '';
          if (currentCarrierId != null && currentCarrierId === pal.id) {
            btn.classList.add('trait-selector__naturals-chip--active');
          }
          const metaText = kidMode ? 'Born with it' : 'Natural passive';
          btn.appendChild(createPalChip(pal, pal ? pal.name : '', {
            condensed: true,
            role: 'parent',
            meta: metaText,
            traits: selectedTrait ? [selectedTrait] : []
          }));
          btn.addEventListener('click', () => {
            const alreadySelected = traitState.carrier && pal && traitState.carrier.id === pal.id;
            traitState.carrier = alreadySelected ? null : pal;
            updateBreedingSelection();
            renderTraitNaturalCarriers();
            renderTraitCarrierGrid();
            renderTraitOutcomes();
            renderTraitGuide();
            playSound(clickSound);
          });
          traitNaturalsList.appendChild(btn);
        });
        const selectedCarrierId = traitState.carrier ? traitState.carrier.id : null;
        const naturalRecord = selectedTrait ? getNaturalCarrierRecord(selectedTrait) : null;
        const naturalIds = naturalRecord ? naturalRecord.ids : null;
        matches.sort((a, b) => {
          if (selectedCarrierId != null) {
            if (a.id === selectedCarrierId && b.id !== selectedCarrierId) return -1;
            if (b.id === selectedCarrierId && a.id !== selectedCarrierId) return 1;
          }
          const aNatural = naturalIds ? naturalIds.has(a.id) : false;
          const bNatural = naturalIds ? naturalIds.has(b.id) : false;
          if (aNatural !== bNatural) return aNatural ? -1 : 1;
          return a.name.localeCompare(b.name, undefined, { sensitivity: 'base' });
        });
          if (selectedTrait && pal && isPalNaturalCarrier(pal.id, selectedTrait)) {
            card.classList.add('pal-card--natural');
            const ribbon = document.createElement('span');
            ribbon.className = 'pal-card__ribbon';
            ribbon.textContent = kidMode ? 'Born with it' : 'Natural';
            card.appendChild(ribbon);
          }
        renderTraitNaturalCarriers();
        const naturalChildIds = selectedTrait ? (getNaturalCarrierRecord(selectedTrait)?.ids || null) : null;
          const aNatural = naturalChildIds ? naturalChildIds.has(a) : false;
          const bNatural = naturalChildIds ? naturalChildIds.has(b) : false;
          if (aNatural !== bNatural) return aNatural ? -1 : 1;
          const childIsNatural = selectedTrait && childPal && isPalNaturalCarrier(childPal.id, selectedTrait);
          if (childIsNatural) {
            container.classList.add('trait-outcome--natural');
          }
            meta: childPal ? (childIsNatural && selectedTrait ? (kidMode ? 'Born with it' : 'Natural carrier') : childMetaLabel) : '',
          const metaWrap = document.createElement('div');
          metaWrap.className = 'trait-outcome__meta';
          metaWrap.appendChild(count);
          if (childIsNatural) {
            const badge = document.createElement('span');
            badge.className = 'trait-outcome__badge';
            badge.textContent = kidMode ? 'Born with it' : 'Natural carrier';
            metaWrap.appendChild(badge);
          }
          header.appendChild(metaWrap);
        const targetIsNatural = selectedTrait && target ? isPalNaturalCarrier(target.id, selectedTrait) : false;
            ? `<strong>${target.name}</strong> ${targetIsNatural && selectedTrait ? `is born with ${selectedTrait}. No breeding needed!` : 'already has the passive. No breeding needed!'}`
            : `<strong>${target.name}</strong> ${targetIsNatural && selectedTrait ? `naturally carries ${selectedTrait}—no relay required.` : 'already holds the passive—no relay required.'}`;
        if (targetIsNatural && selectedTrait) {
          const naturalNote = document.createElement('p');
          naturalNote.className = 'trait-guide__insight';
          naturalNote.innerHTML = kidMode
            ? `<strong>${target.name}</strong> hatches with ${selectedTrait}. Use this relay when you need extra eggs or backups.`
            : `<strong>${target.name}</strong> naturally carries ${selectedTrait}; follow this relay when you need additional copies or trading stock.`;
          traitGuideBody.appendChild(naturalNote);
        }
