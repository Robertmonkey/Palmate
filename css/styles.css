.card{background:var(--card-bg,rgba(14,32,52,0.92));border-radius:18px;padding:16px 20px;margin:16px 0;box-shadow:0 8px 24px rgba(0,0,0,0.35);border:1px solid rgba(255,255,255,0.04)}
.card h3{margin-top:0}
.guide-card{position:relative;display:grid;gap:16px;padding:20px;border-radius:22px;border:1px solid rgba(119,141,169,0.28);box-shadow:0 20px 44px rgba(0,0,0,0.48);color:var(--text,#f0f4f8);background-image:linear-gradient(160deg,var(--guide-card-overlay,rgba(12,24,40,0.72)),rgba(8,16,32,0.92)),var(--guide-card-image, url('../assets/images/palworld-full-map-2.webp'));background-size:cover;background-position:var(--guide-card-position,center 40%);overflow:hidden;isolation:isolate;transition:transform .25s ease,box-shadow .25s ease,border-color .25s ease}
.guide-card::after{content:"";position:absolute;inset:0;background:linear-gradient(180deg,rgba(6,12,24,0.12),rgba(6,12,24,0.55));mix-blend-mode:soft-light;pointer-events:none}
.guide-card>*{position:relative;z-index:1}
.guide-card:hover{transform:translateY(-4px);border-color:rgba(148,210,189,0.58);box-shadow:0 28px 56px rgba(0,0,0,0.58)}
.guide-card__header{display:flex;align-items:flex-start;gap:16px}
.guide-card__icon{display:grid;place-items:center;width:52px;height:52px;border-radius:16px;background:rgba(0,0,0,0.32);box-shadow:0 12px 26px rgba(0,0,0,0.48);font-size:1.4rem;color:var(--guide-card-accent,var(--accent,#9bd4ff))}
.guide-card__headline{display:flex;flex-direction:column;gap:6px;min-width:0}
.guide-card__badge{display:inline-flex;align-items:center;gap:6px;width:max-content;padding:4px 12px;border-radius:999px;background:rgba(0,0,0,0.35);border:1px solid rgba(255,255,255,0.18);font-size:.75rem;font-weight:700;letter-spacing:.08em;text-transform:uppercase;color:rgba(255,255,255,0.86)}
.guide-card__title{margin:0;font-size:1.25rem;letter-spacing:.01em}
.guide-card__meta{margin:0;font-size:.9rem;color:rgba(224,225,221,0.78)}
.guide-card__footer{display:flex;flex-direction:column;gap:12px}
.guide-card__actions{display:flex;flex-wrap:wrap;gap:10px}
.guide-card__keywords{display:flex;flex-wrap:wrap;gap:8px}
.guide-card__keyword{padding:4px 10px;border-radius:999px;background:rgba(0,0,0,0.35);border:1px solid rgba(255,255,255,0.16);font-size:.75rem;font-weight:600;color:rgba(224,225,221,0.85)}
.badges{display:flex;flex-wrap:wrap;gap:8px}
.btn{background:var(--secondary,#415a77);border:none;border-radius:999px;color:var(--text,#f0f4f8);cursor:pointer;font-size:0.95rem;font-weight:600;padding:10px 18px;transition:transform 0.2s ease,background 0.2s ease;min-height:44px}
.btn:hover{background:var(--accent,#778da9);transform:translateY(-1px)}
.btn:active{transform:scale(0.98)}
.chip{display:inline-flex;align-items:center;justify-content:center;padding:8px 14px;border-radius:999px;background:rgba(119,141,169,0.18);color:var(--text,#f0f4f8);font-size:0.9rem;font-weight:600;text-decoration:none;border:1px solid rgba(119,141,169,0.4);min-height:40px}
.chip.link{cursor:pointer;background:rgba(119,141,169,0.24)}
.chip.link:hover{background:rgba(119,141,169,0.4)}
.pal-filters{display:flex;flex-direction:column;gap:16px;margin:12px 0 4px}
.pal-filters__groups{display:flex;flex-direction:column;gap:16px}
@media (min-width:720px){.pal-filters__groups{flex-direction:row;align-items:flex-start;gap:24px}}
.pal-filter-group{flex:1;display:flex;flex-direction:column;gap:8px}
.pal-filter-label{font-size:.75rem;letter-spacing:.12em;text-transform:uppercase;color:rgba(224,225,221,0.7)}
.pal-filter-chips{display:flex;flex-wrap:wrap;gap:8px}
.pal-filter-chip{position:relative}
.pal-filter-chip__label{font-weight:600}
.pal-filter-chip__count{margin-left:8px;font-size:.75rem;font-weight:600;color:rgba(224,225,221,0.75)}
.pal-filter-chip--active{background:rgba(105,228,166,0.22);border-color:rgba(105,228,166,0.45);color:var(--text,#f0f4f8)}
.pal-filter-chip--active .pal-filter-chip__count{color:rgba(105,228,166,0.85)}
.pal-filter-tools{display:flex;flex-direction:column;gap:8px}
@media (min-width:720px){.pal-filter-tools{flex-direction:row;align-items:center;justify-content:space-between}}
.pal-filter-summary{margin:0;font-size:.9rem;color:var(--muted,rgba(224,225,221,0.7))}
.pal-filters__reset{align-self:flex-start;background:none;border:none;color:var(--accent,#778da9);font-weight:600;cursor:pointer;padding:0}
.pal-filters__reset:hover,.pal-filters__reset:focus-visible{color:var(--text,#f0f4f8);text-decoration:underline;outline:none}
.pal-card .work{display:flex;flex-wrap:wrap;gap:6px;margin-top:8px}
.pal-work-badge{display:inline-flex;align-items:center;gap:6px;padding:4px 10px;border-radius:999px;background:rgba(119,141,169,0.18);border:1px solid rgba(119,141,169,0.35);font-size:.75rem;font-weight:600;color:var(--text,#f0f4f8)}
.pal-work-badge__level{font-variant-numeric:tabular-nums;color:var(--accent,#778da9)}
.pal-work-badge--active{background:rgba(105,228,166,0.22);border-color:rgba(105,228,166,0.45)}
.tech-tiers{display:flex;flex-direction:column;gap:32px;margin-top:24px}
.tech-tier{border:1px solid rgba(255,255,255,0.08);border-radius:24px;background:rgba(8,16,32,0.85);box-shadow:0 24px 48px rgba(4,1
0,26,0.45);padding:24px}
.tech-tier__header{display:flex;align-items:center;gap:12px;margin-bottom:18px}
.tech-tier__label{font-size:.75rem;letter-spacing:.12em;text-transform:uppercase;color:rgba(224,225,221,0.7)}
.tech-tier__header h3{margin:0;font-size:1.8rem;color:var(--text,#f0f4f8)}
.tech-tier__columns{display:grid;gap:24px}
@media (min-width:768px){.tech-tier__columns{grid-template-columns:repeat(2,minmax(0,1fr))}}
.tech-column h4{margin:0 0 12px;font-size:1.1rem;color:rgba(224,225,221,0.85)}
.tech-empty{margin:0;font-style:italic;color:rgba(224,225,221,0.6)}
.tech-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:16px}
.tech-card{display:flex;gap:16px;background:rgba(12,24,44,0.88);border:1px solid rgba(255,255,255,0.08);border-radius:18px;pad
ding:16px;box-shadow:0 16px 36px rgba(0,0,0,0.4)}
.tech-image{flex:0 0 72px;height:72px;border-radius:16px;background:rgba(0,0,0,0.3);display:flex;align-items:center;justify-con
tent:center;overflow:hidden}
.tech-image img{width:100%;height:100%;object-fit:contain}
.tech-image--placeholder{font-size:1.8rem;color:rgba(224,225,221,0.75)}
.tech-body{display:flex;flex-direction:column;gap:8px}
.tech-name{margin:0;font-size:1.05rem}
.tech-badges{display:flex;flex-wrap:wrap;gap:8px}
.tech-badge{display:inline-flex;align-items:center;justify-content:center;padding:4px 10px;border-radius:999px;font-size:.75rem
;letter-spacing:.08em;text-transform:uppercase;background:rgba(119,141,169,0.22);color:rgba(224,225,221,0.85);border:1px solid r
gba(119,141,169,0.45)}
.tech-cost{margin:0;font-weight:600;color:var(--accent,#778da9)}
.tech-description{margin:0;color:rgba(224,225,221,0.8);line-height:1.4}
.tech-materials{list-style:none;margin:0;padding:0;display:grid;gap:6px;font-size:.9rem}
.tech-materials li{display:flex;justify-content:space-between;gap:12px;padding:6px 10px;border-radius:10px;background:rgba(0,0,0,
0.25);border:1px solid rgba(255,255,255,0.08)}
.tech-materials span:last-child{font-variant-numeric:tabular-nums;font-weight:600;color:rgba(224,225,221,0.95)}
.step-group{margin:12px 0}
.step-list{display:grid;gap:10px;margin:12px 0}
.step{display:flex;align-items:flex-start;gap:12px;padding:10px;border:1px solid #22314A;border-radius:12px;background:#101828}
.step input[type=checkbox]{width:24px;height:24px}
.step.optional{opacity:.95}
.step-meta{display:flex;flex-direction:column;gap:6px;flex:1}
.step .step-text{line-height:1.4}
.step .badges{margin-left:auto}
.step-category{display:inline-flex;align-items:center;font-size:.7rem;font-weight:700;letter-spacing:.08em;text-transform:uppercase;padding:2px 10px;border-radius:999px;background:rgba(119,141,169,0.2);color:#e0e9f5}
.step-category--base{background:rgba(94,163,255,0.22);color:#e6f2ff}
.step-category--gear{background:rgba(255,196,77,0.22);color:#fff4d6}
.step-category--tech{background:rgba(206,135,255,0.22);color:#f5e9ff}
.step-category--catch{background:rgba(125,214,134,0.22);color:#eaffed}
.step-category--prep{background:rgba(255,160,122,0.22);color:#ffe8e0}
.step-category--explore{background:rgba(132,206,235,0.22);color:#e7f6ff}
.step-category--boss{background:rgba(255,116,140,0.24);color:#ffe7ec}
.pulse{animation:pulse 1.2s ease-out 1}
@keyframes pulse{0%{box-shadow:0 0 0 0 rgba(105,228,166,.8)}100%{box-shadow:0 0 0 14px rgba(105,228,166,0)}}

.route-layout{display:grid;gap:24px;grid-template-columns:minmax(0,1fr)}
.route-layout>*>*{min-width:0}
@media (min-width:900px){
  .route-layout{grid-template-columns:minmax(0,0.95fr) minmax(0,1.1fr);align-items:start}
}
@media (min-width:1280px){
  .route-layout{grid-template-columns:minmax(0,1fr) minmax(0,1.2fr)}
}
.route-card{display:grid;gap:22px}
.route-card__header{display:flex;justify-content:space-between;gap:22px;flex-wrap:wrap;align-items:flex-start}
.route-card__info{display:flex;align-items:flex-start;gap:18px;flex:1 1 360px;min-width:0}
.route-card__thumb{position:relative;flex:0 0 104px;width:104px;height:104px;border-radius:22px;overflow:hidden;background:rgba(8,16,32,0.86);box-shadow:0 22px 46px rgba(0,0,0,0.55)}
.route-card__thumb::before{content:"";position:absolute;inset:0;background-image:linear-gradient(155deg,var(--route-visual-overlay,rgba(12,24,40,0.78)),rgba(10,20,34,0.92)),var(--route-visual-image, url('../assets/images/palworld-full-map-2.webp'));background-size:cover;background-position:var(--route-visual-position,center);transition:transform .35s ease}
.route-card__thumb::after{content:"";position:absolute;inset:0;border-radius:inherit;box-shadow:inset 0 0 0 1px rgba(255,255,255,0.06)}
.route-card:hover .route-card__thumb::before{transform:scale(1.04)}
.route-card__title{display:grid;gap:8px;min-width:0}
.route-card__title h3{margin:0;font-size:1.35rem}
.route-card__label{display:inline-flex;align-items:center;gap:6px;width:max-content;padding:4px 12px;border-radius:999px;background:rgba(0,0,0,0.35);border:1px solid rgba(255,255,255,0.14);font-size:.78rem;letter-spacing:.1em;text-transform:uppercase;color:rgba(255,255,255,0.82)}
.route-card__why{margin:0;color:var(--muted,rgba(224,225,221,0.74));font-size:.97rem;line-height:1.45}
.route-card__meta{display:flex;flex-wrap:wrap;gap:8px;margin-top:4px}
.route-meta-chip{display:inline-flex;align-items:center;gap:6px;padding:6px 12px;border-radius:999px;font-size:.75rem;letter-spacing:.08em;text-transform:uppercase;background:rgba(119,141,169,0.2);border:1px solid rgba(119,141,169,0.42);color:var(--light,#e0e1dd);box-shadow:0 6px 12px rgba(0,0,0,0.25)}
.route-meta-chip--tag{background:rgba(91,146,255,0.22);border-color:rgba(91,146,255,0.42)}
.route-meta-chip--high{background:rgba(231,111,81,0.28);border-color:rgba(231,111,81,0.5)}
.route-meta-chip--medium{background:rgba(255,196,77,0.26);border-color:rgba(255,196,77,0.46)}
.route-meta-chip--low{background:rgba(105,228,166,0.26);border-color:rgba(105,228,166,0.5)}
.route-card__toolbar{display:flex;flex-wrap:wrap;gap:12px;justify-content:flex-end;align-items:flex-start;min-width:0}
.route-card__queue{background:rgba(0,0,0,0.38);border-color:rgba(255,255,255,0.18);color:var(--text,#f0f4f8)}
.route-card__queue:hover{background:rgba(0,0,0,0.48)}
.route-card__complete{display:inline-flex;align-items:center;gap:8px;font-weight:700;color:var(--success,#2a9d8f);background:rgba(42,157,143,0.18);border-radius:999px;padding:6px 14px}
.route-card__progress{padding:16px;border-radius:18px;background:rgba(8,16,32,0.72);border:1px solid rgba(119,141,169,0.26);box-shadow:inset 0 0 0 1px rgba(255,255,255,0.05)}
.route-card__details{background:rgba(8,16,32,0.78);border:1px solid rgba(119,141,169,0.3);border-radius:18px;padding:18px;box-shadow:inset 0 0 0 1px rgba(255,255,255,0.05);display:grid;gap:12px}
.route-card__toggle{width:100%;justify-content:center;margin-bottom:6px}
.route-card__actions{display:flex;gap:10px;flex-wrap:wrap;align-items:center;margin-top:12px}
.route-card__actions .btn{flex:1 1 200px}
.route-steps-empty{margin:0;color:var(--muted,rgba(224,225,221,0.72));font-style:italic;text-align:center;padding:12px 0}
.route-visual__marker{--route-marker-size:22px;position:absolute;top:50%;left:50%;width:var(--route-marker-size);height:var(--route-marker-size);border-radius:50%;background:radial-gradient(circle at center,var(--route-visual-accent,#9bd4ff)0%,var(--route-visual-accent,#9bd4ff)55%,rgba(0,0,0,0)70%);box-shadow:0 0 0 4px rgba(0,0,0,0.4),0 10px 20px rgba(0,0,0,0.45);transform:translate(-50%,-50%);pointer-events:none}
.route-card__thumb .route-visual__marker{--route-marker-size:20px}

.step-extra{margin-top:8px;display:grid;gap:10px;font-size:.9rem;color:rgba(224,225,221,0.85)}
.step-extra__text{margin:0}
.step-extra__section{background:rgba(0,0,0,0.2);border:1px solid rgba(255,255,255,0.08);border-radius:12px;padding:10px 12px;display:grid;gap:6px}
.step-extra__section h5{margin:0;font-size:.78rem;letter-spacing:.08em;text-transform:uppercase;color:rgba(224,225,221,0.68)}
.step-extra__list{margin:0;padding-left:18px;display:grid;gap:4px}
.step-extra__xp{margin:0;font-size:.85rem;color:rgba(224,225,221,0.7)}
.step-mode{display:grid;gap:8px}
.step-mode__entry h6{margin:0;font-size:.78rem;letter-spacing:.08em;text-transform:uppercase;color:rgba(224,225,221,0.68)}
.step-mode__entry p{margin:0}

.route-context{display:grid;gap:18px}
.route-context__controls{display:grid;gap:18px}
.route-context__grid{display:grid;gap:18px;grid-template-columns:repeat(auto-fit,minmax(240px,1fr))}
.route-context__field{display:flex;flex-direction:column;gap:8px}
.route-context__label{font-size:.78rem;letter-spacing:.1em;text-transform:uppercase;color:rgba(224,225,221,0.68)}
.route-context__input{width:100%;min-height:48px;padding:10px 14px;border-radius:14px;background:rgba(13,27,42,0.72);border:1px solid rgba(119,141,169,0.32);color:var(--text,#f0f4f8);font-size:.95rem;box-shadow:0 18px 32px rgba(0,0,0,0.45);transition:border-color .2s ease,box-shadow .2s ease,background .2s ease}
.route-context__input::placeholder{color:rgba(224,225,221,0.6)}
.route-context__input:focus-visible{outline:none;border-color:var(--accent,#778da9);box-shadow:0 0 0 2px rgba(119,141,169,0.35),0 18px 36px rgba(0,0,0,0.5)}
.route-context__level{display:flex;align-items:center;gap:12px}
.route-context__level input[type=range]{flex:1;accent-color:var(--accent,#778da9)}
.route-context__level input[type=number]{width:80px;background:rgba(13,27,42,0.6);border:1px solid rgba(119,141,169,0.35);border-radius:10px;color:var(--text,#f0f4f8);padding:6px 10px;font-size:.95rem}
.route-context__toggles{display:flex;flex-wrap:wrap;gap:8px}
.route-context__toggle{border:1px solid rgba(119,141,169,0.35);background:rgba(119,141,169,0.18);color:var(--text,#f0f4f8);padding:8px 14px;border-radius:999px;font-weight:600;cursor:pointer;transition:background .2s ease,border-color .2s ease}
.route-context__toggle--active{background:rgba(42,157,143,0.25);border-color:rgba(42,157,143,0.6)}
.route-context__goals{position:relative}
.route-goal-drawer{position:relative;display:grid;gap:10px}
.route-goal-drawer__toggle{position:relative;display:flex;flex-direction:column;align-items:flex-start;gap:10px;width:100%;padding:16px 18px;border-radius:18px;background:linear-gradient(135deg,rgba(42,157,143,0.22),rgba(17,36,60,0.92));border:1px solid rgba(119,141,169,0.45);color:var(--text,#f0f4f8);cursor:pointer;box-shadow:0 0 24px rgba(42,157,143,0.35);transition:box-shadow .25s ease,transform .25s ease,border-color .25s ease}
.route-goal-drawer__toggle::before{content:"";position:absolute;inset:-1px;border-radius:inherit;background:radial-gradient(circle at top left,rgba(148,210,189,0.45),rgba(148,210,189,0)60%);opacity:.7;pointer-events:none;transition:opacity .3s ease}
.route-goal-drawer__toggle:hover,.route-goal-drawer__toggle:focus-visible{transform:translateY(-1px);box-shadow:0 0 28px rgba(119,141,169,0.5);border-color:rgba(148,210,189,0.7);outline:none}
.route-goal-drawer__toggle:hover::before,.route-goal-drawer__toggle:focus-visible::before{opacity:1}
.route-goal-drawer__title{font-size:.82rem;letter-spacing:.08em;text-transform:uppercase;color:rgba(224,225,221,0.72)}
.route-goal-drawer__summary{position:relative;display:flex;flex-wrap:wrap;align-items:center;gap:8px;width:100%;min-height:42px;padding:10px 12px;border-radius:14px;background:linear-gradient(135deg,rgba(11,26,44,0.92),rgba(12,32,54,0.88));box-shadow:0 0 18px rgba(42,157,143,0.35);border:1px solid rgba(119,141,169,0.35)}
.route-goal-summary__placeholder{font-size:1rem;font-weight:600;color:rgba(224,225,221,0.78)}
.route-goal-summary__chip{display:inline-flex;align-items:center;gap:6px;padding:6px 12px;border-radius:999px;background:rgba(42,157,143,0.18);border:1px solid rgba(148,210,189,0.65);box-shadow:0 6px 16px rgba(0,0,0,0.35);font-size:.85rem;font-weight:600;color:rgba(224,225,221,0.92);letter-spacing:.03em;text-transform:capitalize}
.route-goal-summary__chip--more{background:rgba(148,210,189,0.22);border-color:rgba(148,210,189,0.85);color:rgba(255,255,255,0.92)}
.route-goal-drawer__panel{position:relative;border-radius:20px;padding:18px;background:linear-gradient(150deg,rgba(13,27,42,0.95),rgba(8,18,34,0.88));border:1px solid rgba(119,141,169,0.4);box-shadow:0 28px 52px rgba(0,0,0,0.55),0 0 36px rgba(42,157,143,0.4);display:grid;gap:14px;max-height:320px;overflow:auto}
.route-goal-drawer__panel::before{content:"";position:absolute;inset:0;border-radius:inherit;background:radial-gradient(circle at top right,rgba(148,210,189,0.28),rgba(148,210,189,0)65%);pointer-events:none}
.route-goal-drawer__panel[hidden]{display:none}
.route-goal-drawer__panel::-webkit-scrollbar{width:8px}
.route-goal-drawer__panel::-webkit-scrollbar-thumb{background:rgba(119,141,169,0.4);border-radius:999px}
.route-goal-drawer__list{display:grid;gap:10px}
@media (min-width:640px){.route-goal-drawer__list{grid-template-columns:repeat(auto-fit,minmax(240px,1fr))}}
.route-goal-option{display:grid;grid-template-columns:auto auto 1fr;align-items:center;gap:12px;padding:12px 16px;border-radius:14px;border:1px solid rgba(119,141,169,0.32);background:rgba(8,16,32,0.8);box-shadow:inset 0 0 0 1px rgba(255,255,255,0.04);transition:transform .2s ease,border-color .2s ease,box-shadow .2s ease}
.route-goal-option input[type=checkbox]{appearance:none;width:24px;height:24px;border-radius:8px;border:2px solid rgba(119,141,169,0.45);background:rgba(6,14,26,0.9);display:grid;place-items:center;transition:border-color .2s ease,background .2s ease,box-shadow .2s ease;cursor:pointer}
.route-goal-option input[type=checkbox]::after{content:"";width:12px;height:12px;border-radius:4px;background:transparent;transform:scale(0);transition:transform .2s ease,background .2s ease}
.route-goal-option input[type=checkbox]:checked{border-color:rgba(148,210,189,0.85);background:rgba(148,210,189,0.18);box-shadow:0 0 0 3px rgba(148,210,189,0.22)}
.route-goal-option input[type=checkbox]:checked::after{background:rgba(148,210,189,0.95);transform:scale(1)}
.route-goal-option input[type=checkbox]:focus-visible{outline:2px solid var(--accent,#778da9);outline-offset:2px}
.route-goal-option__icon{display:grid;place-items:center;width:42px;height:42px;border-radius:14px;background:rgba(119,141,169,0.2);color:var(--accent,#778da9);font-size:1.1rem}
.route-goal-option__label{font-size:.95rem;font-weight:600;color:rgba(224,225,221,0.92)}
.route-goal-option--active{border-color:rgba(148,210,189,0.65);box-shadow:0 16px 32px rgba(148,210,189,0.2);transform:translateY(-1px)}
.route-goal-drawer__footer{display:flex;justify-content:flex-end}
.route-goal-drawer__close{background:rgba(0,0,0,0.35);border-color:rgba(119,141,169,0.4);color:var(--text,#f0f4f8)}
.route-goal-drawer__close:hover{background:rgba(0,0,0,0.45)}
.route-goal-drawer--open .route-goal-drawer__toggle{box-shadow:0 0 28px rgba(148,210,189,0.4);border-color:rgba(148,210,189,0.65)}
.route-context__resources{display:grid;gap:10px}
.route-context__resource-add{display:flex;flex-wrap:wrap;gap:8px;align-items:center}
.route-context__resource-add select,.route-context__resource-add input{background:rgba(13,27,42,0.6);border:1px solid rgba(119,141,169,0.35);border-radius:10px;color:var(--text,#f0f4f8);padding:8px 12px;font-size:.95rem;min-width:160px;transition:border-color .2s ease,box-shadow .2s ease}
.route-context__resource-add select{flex:2 1 220px}
.route-context__resource-add input{flex:1 1 140px}
.route-context__resource-add select:focus-visible,.route-context__resource-add input:focus-visible{outline:none;border-color:var(--accent,#778da9);box-shadow:0 0 0 2px rgba(119,141,169,0.35)}
.route-context__resource-add-btn{flex:0 0 auto}
@media (max-width:600px){
  .route-context__resource-add{flex-direction:column;align-items:stretch}
  .route-context__resource-add select,.route-context__resource-add input{min-width:0;width:100%}
  .route-context__resource-add-btn{width:100%}
}
.route-context__resource-list{display:flex;flex-wrap:wrap;gap:8px}
.route-resource-chip{display:inline-flex;align-items:center;gap:6px;padding:8px 12px;border-radius:999px;background:rgba(119,141,169,0.2);border:1px solid rgba(119,141,169,0.35);font-size:.85rem;font-weight:600;cursor:pointer}
.route-resource-chip__remove{font-weight:700;font-size:1rem}
.route-resource-chip:hover{background:rgba(119,141,169,0.32)}
.route-context__empty{margin:0;font-size:.9rem;color:rgba(224,225,221,0.68)}
.route-library{display:grid}
.route-library__details{border-radius:22px;overflow:hidden;background:rgba(8,16,32,0.78);border:1px solid rgba(119,141,169,0.25);box-shadow:0 20px 44px rgba(0,0,0,0.45)}
.route-library__summary{display:flex;align-items:center;justify-content:space-between;gap:18px;padding:18px 22px;cursor:pointer;list-style:none}
.route-library__summary::-webkit-details-marker{display:none}
.route-library__summary-text{display:grid;gap:6px}
.route-library__summary-text h3{margin:0;font-size:1.25rem}
.route-library__summary-text p{margin:0;font-size:.95rem;color:var(--muted,rgba(224,225,221,0.72))}
.route-library__count{display:inline-flex;align-items:center;gap:8px;padding:6px 14px;border-radius:999px;background:rgba(0,0,0,0.4);font-size:.85rem;font-weight:600;color:rgba(224,225,221,0.85)}
.route-library__details[open] .route-library__summary{border-bottom:1px solid rgba(255,255,255,0.08);background:rgba(12,24,40,0.78)}
.route-library__body{display:grid;gap:18px;padding:20px 22px 24px;background:rgba(6,14,26,0.9)}
.route-library__filters{display:flex;flex-wrap:wrap;gap:12px;align-items:center;justify-content:space-between}
.route-library__filter-group{display:flex;flex-wrap:wrap;gap:8px}
.route-library__filter-btn,.route-library__match{display:inline-flex;align-items:center;gap:6px}
.route-library__filter-btn{border:1px solid rgba(119,141,169,0.35);background:rgba(8,16,32,0.65);color:var(--text,#f0f4f8);padding:8px 14px;border-radius:999px;font-size:.85rem;font-weight:600;cursor:pointer;transition:background .2s ease,border-color .2s ease}
.route-library__filter-btn--active{background:rgba(42,157,143,0.22);border-color:rgba(42,157,143,0.65)}
.route-library__match{border:1px solid rgba(119,141,169,0.35);background:rgba(12,24,40,0.68);color:var(--text,#f0f4f8);padding:8px 16px;border-radius:999px;font-size:.85rem;font-weight:600;cursor:pointer;transition:background .2s ease,border-color .2s ease,opacity .2s ease}
.route-library__match:disabled{opacity:.5;cursor:not-allowed}
.route-library__match--active{background:rgba(42,157,143,0.22);border-color:rgba(42,157,143,0.65)}
.route-library__search{display:flex;align-items:center;gap:12px;padding:0 16px;background:rgba(10,22,40,0.82);border:1px solid rgba(119,141,169,0.28);border-radius:16px}
.route-library__search input{flex:1;background:transparent;border:none;color:var(--text,#f0f4f8);font-size:1rem;padding:12px 0}
.route-library__search input:focus-visible{outline:none}
.route-library__search-icon{color:rgba(224,225,221,0.65);font-size:1rem}
.route-library__list{display:grid;gap:16px;max-height:420px;overflow:auto;padding-right:4px}
.route-library__list::-webkit-scrollbar{width:8px}
.route-library__list::-webkit-scrollbar-thumb{background:rgba(119,141,169,0.35);border-radius:999px}
.route-library__empty{margin:0;font-size:.95rem;color:var(--muted,rgba(224,225,221,0.72));text-align:center;padding:18px 0}
.route-library-card{display:grid;grid-template-columns:auto 1fr auto;align-items:center;gap:18px;padding:16px;border-radius:18px;background:rgba(12,24,40,0.74);border:1px solid rgba(119,141,169,0.26);box-shadow:0 18px 36px rgba(0,0,0,0.45);transition:transform .2s ease,border-color .2s ease,box-shadow .2s ease}
.route-library-card:hover{transform:translateY(-3px);border-color:rgba(255,255,255,0.24);box-shadow:0 24px 42px rgba(0,0,0,0.5)}
.route-library-card__media{position:relative;width:88px;height:88px;border-radius:20px;overflow:hidden;flex:0 0 auto;background:rgba(8,16,32,0.86);box-shadow:0 18px 34px rgba(0,0,0,0.46)}
.route-library-card__media::before{content:"";position:absolute;inset:0;background-image:linear-gradient(150deg,var(--route-visual-overlay,rgba(12,24,40,0.8)),rgba(10,20,34,0.9)),var(--route-visual-image, url('../assets/images/palworld-full-map-2.webp'));background-size:cover;background-position:center}
.route-library-card__media .route-visual__marker{--route-marker-size:16px}
.route-library-card__body{display:grid;gap:6px;min-width:0}
.route-library-card__body h4{margin:0;font-size:1.05rem}
.route-library-card__meta{margin:0;font-size:.85rem;color:rgba(224,225,221,0.75)}
.route-library-card__tags{display:flex;flex-wrap:wrap;gap:6px}
.route-library-card__tag{background:rgba(119,141,169,0.2);border-color:rgba(119,141,169,0.38);font-size:.75rem}
.route-library-card__actions{display:flex;flex-direction:column;gap:10px;align-items:flex-end}
.route-library-card__highlights{display:flex;flex-wrap:wrap;gap:8px;margin-top:8px}
.route-library-card__status{font-size:.85rem;font-weight:600;color:var(--success,#2a9d8f);background:rgba(42,157,143,0.18);padding:4px 12px;border-radius:999px}
.route-library-card__activate{background:rgba(0,0,0,0.38);border-color:rgba(255,255,255,0.18);color:var(--text,#f0f4f8)}
.route-library-card__activate:hover{background:rgba(0,0,0,0.48)}
.route-library-card--complete{border-color:rgba(42,157,143,0.42)}
.route-library-card--complete .route-library-card__media::after{content:"";position:absolute;inset:0;border-radius:inherit;box-shadow:inset 0 0 0 2px rgba(42,157,143,0.45)}
.route-library-card--context{border-color:rgba(119,141,169,0.5);box-shadow:0 20px 40px rgba(119,141,169,0.25)}

.guide-catalog{display:grid;gap:20px}
.guide-catalog__header{display:flex;flex-direction:column;gap:6px}
.guide-catalog__header h3{margin:0;font-size:1.3rem}
.guide-catalog__header p{margin:0;font-size:.95rem;color:var(--muted,rgba(224,225,221,0.72))}
.guide-catalog__count{font-size:.85rem;font-weight:600;color:rgba(224,225,221,0.82)}
.guide-catalog__controls{display:grid;gap:12px}
@media (min-width:720px){.guide-catalog__controls{grid-template-columns:260px 1fr;align-items:start}}
.guide-catalog__search{display:flex;align-items:center;gap:10px;padding:0 14px;background:rgba(10,22,40,0.82);border:1px solid rgba(119,141,169,0.28);border-radius:16px}
.guide-catalog__search input{flex:1;background:transparent;border:none;color:var(--text,#f0f4f8);font-size:1rem;padding:12px 0}
.guide-catalog__search input:focus-visible{outline:none}
.guide-catalog__filters{display:flex;flex-wrap:wrap;gap:12px}
.guide-catalog__filters label{display:flex;flex-direction:column;gap:6px;font-size:.8rem;letter-spacing:.06em;text-transform:uppercase;color:rgba(224,225,221,0.65)}
.guide-catalog__filters select{min-width:180px;background:rgba(13,27,42,0.7);border:1px solid rgba(119,141,169,0.35);border-radius:12px;color:var(--text,#f0f4f8);padding:10px 12px;font-size:.95rem}
.guide-catalog__filters select:focus-visible{outline:none;border-color:var(--accent,#778da9);box-shadow:0 0 0 2px rgba(119,141,169,0.35)}
.guide-catalog__list{display:grid;gap:14px;padding-right:0}
@media (min-width:900px){.guide-catalog__list{grid-template-columns:repeat(auto-fit,minmax(280px,1fr))}}
.guide-catalog__empty{margin:0;font-size:.95rem;color:var(--muted,rgba(224,225,221,0.72));text-align:center;padding:18px 0}
.guide-catalog__item{display:grid;gap:14px}
.guide-catalog__item-header{display:flex;flex-wrap:wrap;gap:10px;align-items:center;justify-content:space-between}
.guide-catalog__title{margin:0;font-size:1.1rem}
.guide-catalog__badge{display:inline-flex;align-items:center;gap:6px;padding:4px 12px;border-radius:999px;background:rgba(148,210,189,0.22);border:1px solid rgba(148,210,189,0.55);font-size:.75rem;font-weight:600;color:rgba(224,225,221,0.9);text-transform:uppercase;letter-spacing:.08em}
.guide-catalog__group{margin:0;font-size:.85rem;color:rgba(224,225,221,0.7)}
.guide-catalog__trigger{margin:0;font-size:.9rem;color:rgba(224,225,221,0.82)}
.guide-catalog__keywords{display:flex;flex-wrap:wrap;gap:6px;margin:0}
.guide-catalog__keyword{padding:4px 10px;border-radius:999px;background:rgba(119,141,169,0.18);border:1px solid rgba(119,141,169,0.32);font-size:.75rem;font-weight:600;color:rgba(224,225,221,0.85)}
.guide-catalog__steps{margin:0;padding-left:20px;display:grid;gap:6px;font-size:.92rem;color:rgba(224,225,221,0.85)}

.route-overview__insights{display:grid;gap:16px;margin-top:10px;grid-template-columns:repeat(auto-fit,minmax(220px,1fr))}
.route-overview__insight{display:grid;gap:8px;padding:14px;border-radius:16px;background:rgba(8,16,32,0.75);border:1px solid rgba(119,141,169,0.26);box-shadow:inset 0 0 0 1px rgba(255,255,255,0.04)}
.route-overview__insight-icon{font-size:1.1rem;color:var(--accent,#778da9)}
.route-overview__insight-title{margin:0;font-size:.8rem;letter-spacing:.08em;text-transform:uppercase;color:rgba(224,225,221,0.65)}
.route-overview__insight-value{margin:0;font-size:1.15rem;font-weight:600}
.route-overview__insight-meter{position:relative;height:6px;border-radius:999px;background:rgba(255,255,255,0.1);overflow:hidden}
.route-overview__insight-meter span{position:absolute;inset:0;height:100%;background:linear-gradient(90deg,var(--accent,#778da9),rgba(255,255,255,0.85))}
.route-overview__insight-note{margin:0;font-size:.85rem;color:var(--muted,rgba(224,225,221,0.72))}

.route-tonight-card{position:relative;overflow:hidden}

.route-suggestion-card__highlights{display:flex;flex-wrap:wrap;gap:8px}
.route-suggestion-detail__highlights{display:flex;flex-wrap:wrap;gap:10px;margin-top:4px}
.route-suggestion-detail__objectives{margin:0;padding-left:20px;display:grid;gap:6px;font-size:.92rem;color:rgba(224,225,221,0.85)}

.route-highlight{position:relative;display:inline-flex;align-items:center;gap:8px;padding:6px 10px;border-radius:14px;background:rgba(0,0,0,0.35);border:1px solid rgba(255,255,255,0.12);transition:transform .2s ease,border-color .2s ease;cursor:default}
.route-highlight img{width:32px;height:32px;object-fit:cover;border-radius:10px;display:block}
.route-highlight--small{padding:4px 6px}
.route-highlight--small img{width:28px;height:28px;border-radius:8px}
.route-highlight__label{font-size:.85rem;color:rgba(224,225,221,0.9)}
.route-highlight--obtained{opacity:.65}
.route-highlight--pal{border-color:rgba(119,141,169,0.35)}
.route-highlight--tech{border-color:rgba(206,135,255,0.35)}
.route-highlight--item{border-color:rgba(255,196,77,0.35)}

.route-suggestion-detail__objectives li{list-style:square}
.route-active-card{display:grid;gap:24px}
.route-active__header{display:flex;flex-direction:column;gap:16px}
@media (min-width:900px){.route-active__header{flex-direction:row;justify-content:space-between;align-items:flex-start}}
.route-active__title{display:grid;gap:6px;max-width:760px}
.route-active__title h3{margin:0;font-size:1.45rem}
.route-active__intro{margin:0;font-size:.97rem;color:var(--muted,rgba(224,225,221,0.75));line-height:1.5}
.route-active__actions{display:flex;flex-wrap:wrap;gap:12px;align-items:center;justify-content:flex-start}
@media (min-width:900px){.route-active__actions{justify-content:flex-end}}
.route-active__filters{display:grid;gap:14px;padding:16px;border-radius:18px;background:rgba(10,22,40,0.78);border:1px solid rgba(119,141,169,0.26);box-shadow:inset 0 0 0 1px rgba(255,255,255,0.05)}
.route-active__filters .route-filters__chips{max-width:100%;overflow-x:auto;padding-bottom:4px}
.route-active__filters .route-filters__chips::-webkit-scrollbar{height:6px}
.route-active__filters .route-filters__chips::-webkit-scrollbar-thumb{background:rgba(119,141,169,0.45);border-radius:999px}
.route-active__list{display:grid;gap:22px}
.route-active__list .card{margin:0}
.route-active__empty{margin:0;font-size:.97rem;color:var(--muted,rgba(224,225,221,0.72));text-align:center;padding:24px 12px}

.route-recommendations-card{display:grid;gap:16px}
.route-recommendations__header{display:grid;gap:6px}
.route-recommendations__header h3{margin:0}
.route-recommendations__intro{margin:0;color:var(--muted,rgba(224,225,221,0.72));font-size:.95rem}
.route-recommendations__list{display:grid;gap:16px}
@media (min-width:720px){.route-recommendations__list{grid-template-columns:repeat(auto-fit,minmax(260px,1fr))}}
.route-recommendation{display:grid;gap:14px}
.route-recommendation .guide-card__icon{width:48px;height:48px;font-size:1.25rem}
.route-recommendation__header{display:flex;align-items:flex-start;gap:12px;justify-content:space-between}
.route-recommendation__meta{margin:0;color:rgba(224,225,221,0.78);font-size:.9rem}
.route-recommendation__tags{display:flex;flex-wrap:wrap;gap:6px;margin-top:6px}
.route-recommendation__tag{font-size:.75rem;padding:4px 10px;background:rgba(119,141,169,0.24);border:1px solid rgba(119,141,169,0.35)}
.route-recommendation__score{margin-left:auto;font-size:1.25rem;font-weight:700;color:var(--guide-card-accent,var(--accent,#778da9))}
.route-recommendation__body{display:grid;gap:10px}
.route-recommendation__reasons{margin:0;padding-left:18px;display:grid;gap:6px;color:rgba(224,225,221,0.86)}
.route-recommendation__actions{display:flex;justify-content:flex-start}
.route-recommendations__empty,.route-recommendation__fallback{margin:0;color:var(--muted,rgba(224,225,221,0.7));font-size:.9rem}

.route-suggestions-card{display:grid;gap:18px}
.route-suggestions__header{display:grid;gap:6px}
.route-suggestions__header h3{margin:0}
.route-suggestions__intro{margin:0;color:var(--muted,rgba(224,225,221,0.72));font-size:.95rem}
.route-suggestions__list{display:grid;gap:12px}
@media (min-width:720px){.route-suggestions__list{grid-template-columns:repeat(auto-fit,minmax(240px,1fr))}}
.route-suggestions-card{grid-template-areas:"header" "list" "detail"}
.route-suggestions__header{grid-area:header}
.route-suggestions__list{grid-area:list}
.route-suggestions__detail{grid-area:detail}
@media (min-width:900px){
  .route-suggestions-card{grid-template-columns:minmax(0,0.95fr) minmax(0,1.05fr);grid-template-areas:"header header" "list detail"}
  .route-suggestions__list{grid-template-columns:repeat(auto-fit,minmax(260px,1fr))}
}
.route-suggestions__empty,.route-suggestions__placeholder{margin:0;color:var(--muted,rgba(224,225,221,0.72));font-size:.95rem;text-align:center;padding:12px}
.route-suggestion-card{position:relative;display:grid;gap:12px;align-items:flex-start;padding:20px;border-radius:22px;color:var(--text,#f0f4f8);cursor:pointer;transition:transform .25s ease,box-shadow .25s ease,border-color .25s ease;overflow:hidden;background-image:linear-gradient(160deg,var(--route-suggestion-overlay,var(--guide-card-overlay,rgba(12,24,40,0.78))),rgba(12,24,40,0.92)),var(--route-suggestion-image, var(--guide-card-image, url('../assets/images/palworld-full-map-2.webp')));background-size:cover;background-position:var(--route-suggestion-position,var(--guide-card-position,center 40%))}
.route-suggestion-card::before{content:"";position:absolute;z-index:0;width:var(--route-suggestion-marker-size,26px);height:var(--route-suggestion-marker-size,26px);border-radius:50%;top:var(--route-suggestion-marker-top,50%);left:var(--route-suggestion-marker-left,50%);transform:translate(-50%,-50%);background:radial-gradient(circle at center,var(--route-suggestion-accent,#9bd4ff)0%,var(--route-suggestion-accent,#9bd4ff)55%,rgba(0,0,0,0)70%);opacity:var(--route-suggestion-marker-opacity,0);box-shadow:0 0 0 5px rgba(0,0,0,0.4),0 16px 30px rgba(0,0,0,0.45);pointer-events:none;transition:opacity .2s ease,transform .2s ease}
.route-suggestion-card::after{content:"";position:absolute;inset:0;background:linear-gradient(180deg,rgba(0,0,0,0.05),rgba(0,0,0,0.4));pointer-events:none}
.route-suggestion-card__body{position:relative;z-index:1;display:grid;gap:12px}
.route-suggestion-card__top{display:flex;align-items:flex-start;gap:12px}
.route-suggestion-card__icon{flex:0 0 auto;width:44px;height:44px;border-radius:14px;background:rgba(0,0,0,0.32);display:grid;place-items:center;font-size:1.2rem;color:var(--route-suggestion-accent,var(--guide-card-accent,#9bd4ff));box-shadow:0 10px 20px rgba(0,0,0,0.4)}
.route-suggestion-card__text{display:flex;flex-direction:column;gap:4px}
.route-suggestion-card__title{margin:0;font-size:1.05rem;line-height:1.2}
.route-suggestion-card__meta{margin:0;font-size:.85rem;color:rgba(224,225,221,0.78)}
.route-suggestion-card__status{display:inline-flex;align-items:center;gap:6px;margin-top:4px;padding:4px 10px;border-radius:999px;background:rgba(0,0,0,0.35);border:1px solid rgba(255,255,255,0.18);font-size:.78rem;font-weight:600;color:rgba(255,255,255,0.9);letter-spacing:.06em;text-transform:uppercase}
.route-suggestion-card__score{margin-left:auto;font-weight:700;font-size:1.1rem;color:var(--route-suggestion-accent,var(--guide-card-accent,#9bd4ff))}
.route-suggestion-card__progress{display:flex;align-items:center;gap:10px}
.route-suggestion-card__progress-bar{flex:1;height:6px;border-radius:999px;background:rgba(255,255,255,0.16);overflow:hidden}
.route-suggestion-card__progress-bar span{display:block;height:100%;width:0;background:linear-gradient(90deg,var(--route-suggestion-accent,var(--guide-card-accent,#9bd4ff)),rgba(255,255,255,0.85));transition:width .35s ease}
.route-suggestion-card__progress-label{font-size:.85rem;color:rgba(224,225,221,0.86)}
.route-suggestion-card__reason{margin:0;font-size:.85rem;color:rgba(224,225,221,0.88)}
.route-suggestion-card:hover{transform:translateY(-4px);border-color:rgba(255,255,255,0.35)}
.route-suggestion-card--active{border-color:var(--route-suggestion-accent,var(--guide-card-accent,#9bd4ff));box-shadow:0 28px 52px rgba(0,0,0,0.52);transform:translateY(-4px)}
.route-suggestions__detail{position:relative;display:grid;gap:0;border-radius:24px;background-image:linear-gradient(160deg,var(--route-suggestion-overlay,rgba(12,24,40,0.72)),rgba(8,16,32,0.9)),var(--route-suggestion-image, var(--guide-card-image, url('../assets/images/palworld-full-map-2.webp')));background-size:cover;background-position:var(--route-suggestion-position,center 42%);border:1px solid rgba(119,141,169,0.28);overflow:hidden;box-shadow:0 26px 52px rgba(0,0,0,0.5)}
.route-suggestion-detail__hero{position:relative;display:grid;gap:14px;padding:26px;background-image:linear-gradient(160deg,var(--route-suggestion-overlay,rgba(8,16,32,0.85)),rgba(8,16,32,0.92)),var(--route-suggestion-image, url('../assets/images/palworld-full-map-2.webp'));background-size:cover;background-position:var(--route-suggestion-position,center);overflow:hidden}
.route-suggestion-detail__hero::before{content:"";position:absolute;z-index:0;width:var(--route-suggestion-marker-size,30px);height:var(--route-suggestion-marker-size,30px);border-radius:50%;top:var(--route-suggestion-marker-top,50%);left:var(--route-suggestion-marker-left,50%);transform:translate(-50%,-50%);opacity:var(--route-suggestion-marker-opacity,0);background:radial-gradient(circle at center,var(--route-suggestion-accent,#9bd4ff)0%,var(--route-suggestion-accent,#9bd4ff)55%,rgba(0,0,0,0)70%);box-shadow:0 0 0 6px rgba(0,0,0,0.45),0 18px 34px rgba(0,0,0,0.5);pointer-events:none;transition:opacity .2s ease,transform .2s ease}
.route-suggestion-detail__hero>*{position:relative;z-index:1}
.route-suggestion-detail__badges{display:flex;flex-wrap:wrap;gap:10px}
.route-suggestion-detail__badge{display:inline-flex;align-items:center;justify-content:flex-start;gap:6px;padding:6px 14px;border-radius:999px;background:rgba(0,0,0,0.38);border:1px solid rgba(255,255,255,0.24);font-size:.78rem;letter-spacing:.08em;text-transform:uppercase;color:rgba(255,255,255,0.85)}
.route-suggestion-detail__badge--accent{background:rgba(0,0,0,0.45);border-color:var(--route-suggestion-accent,#9bd4ff);color:var(--route-suggestion-accent,#9bd4ff)}
.route-suggestion-detail__title{margin:0;font-size:1.4rem}
.route-suggestion-detail__meta{margin:0;font-size:.92rem;color:rgba(224,225,221,0.84)}
.route-suggestion-detail__progress{display:flex;flex-wrap:wrap;align-items:center;gap:10px}
.route-suggestion-detail__progress-bar{flex:1;min-width:140px;height:8px;border-radius:999px;background:rgba(255,255,255,0.2);overflow:hidden}
.route-suggestion-detail__progress-bar span{display:block;height:100%;width:0;background:linear-gradient(90deg,var(--route-suggestion-accent,#9bd4ff),rgba(255,255,255,0.85))}
.route-suggestion-detail__progress-label{font-size:.9rem;font-weight:600;color:rgba(255,255,255,0.9)}
.route-suggestion-detail__reasons{margin:0;padding-left:20px;display:grid;gap:6px;font-size:.9rem;color:rgba(255,255,255,0.88)}
.route-suggestion-detail__reason{margin:0;font-size:.9rem;color:rgba(255,255,255,0.88)}
.route-suggestion-detail__actions{display:flex;flex-wrap:wrap;gap:10px;align-items:center}
.route-suggestion-detail__body{padding:22px;background:rgba(10,20,34,0.9);display:grid;gap:18px}

.route-overview{display:flex;flex-direction:column;gap:16px}
.route-overview__header{display:flex;flex-direction:column;gap:16px}
@media (min-width:768px){.route-overview__header{flex-direction:row;justify-content:space-between;align-items:stretch}}
.route-overview__stats{display:grid;gap:12px;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));flex:1}
.route-overview__stat{background:rgba(8,16,32,0.68);border:1px solid rgba(255,255,255,0.08);border-radius:16px;padding:16px;display:grid;gap:10px;box-shadow:0 12px 32px rgba(0,0,0,0.35)}
.route-overview__stat-header{display:flex;align-items:center;gap:12px}
.route-overview__stat-icon{width:42px;height:42px;border-radius:12px;background:rgba(119,141,169,0.18);display:grid;place-items:center;font-size:1.2rem;color:var(--accent,#778da9)}
.route-overview__stat-title{margin:0;font-size:.85rem;letter-spacing:.08em;text-transform:uppercase;color:rgba(224,225,221,0.72)}
.route-overview__stat-value{margin:2px 0 0;font-size:1.25rem;font-weight:700;color:var(--text,#f0f4f8)}
.route-overview__meter{position:relative;width:100%;height:8px;border-radius:999px;background:rgba(255,255,255,0.12);overflow:hidden}
.route-overview__meter .fill{position:absolute;inset:0;height:100%;width:0;background:linear-gradient(90deg,var(--accent,#778da9),rgba(42,157,143,0.85));transition:width .3s ease}
.route-overview__stat-sub{margin:0;font-size:.85rem;color:var(--muted,rgba(224,225,221,0.7))}
.route-overview__next{margin:0;font-size:.95rem;color:var(--light,#e0e1dd);line-height:1.5}
.route-overview__next strong{color:var(--accent,#778da9)}
.route-overview__controls{display:flex;flex-direction:column;gap:12px}
@media (min-width:768px){.route-overview__controls{flex-direction:row;align-items:flex-start;justify-content:space-between}}
.route-overview__actions{display:flex;gap:8px;flex-wrap:wrap}
.route-overview__actions .btn{flex:0 0 auto}
.route-filters{display:flex;flex-direction:column;gap:8px}
.route-filters__header{display:flex;align-items:center;gap:12px;flex-wrap:wrap}
.route-filters__label{font-size:.8rem;letter-spacing:.12em;text-transform:uppercase;color:rgba(224,225,221,0.7)}
.route-filters__chips{display:flex;flex-wrap:wrap;gap:8px}
.route-filter{position:relative}
.route-filter__label{font-weight:600}
.route-filter__count{margin-left:8px;font-size:.75rem;font-weight:600;color:rgba(224,225,221,0.75)}
.route-filter--inactive{opacity:.45}
.route-filter--inactive .route-filter__count{color:rgba(224,225,221,0.5)}
.route-filters__reset{background:none;border:none;color:var(--accent,#778da9);cursor:pointer;padding:0}
.route-filters__reset:focus-visible{outline:2px solid var(--accent,#778da9);outline-offset:2px}
.route-filters__empty{margin:0;color:var(--muted,rgba(224,225,221,0.7))}

.type-map-layout{display:grid;gap:24px;margin-top:20px}
@media (min-width:960px){.type-map-layout{grid-template-columns:minmax(0,1fr) minmax(0,320px);align-items:stretch}}
.type-map{position:relative;width:100%;aspect-ratio:1;border-radius:28px;background:radial-gradient(140% 120% at 50% 18%,rgba(129,211,255,0.18),rgba(8,16,32,0.95) 65%),linear-gradient(135deg,rgba(91,53,202,0.32),rgba(255,114,71,0.18));border:1px solid rgba(255,255,255,0.08);overflow:hidden;box-shadow:0 40px 80px rgba(4,10,26,0.5);padding:clamp(12px,3vw,22px)}
.type-map::before{content:"";position:absolute;inset:0;background-image:radial-gradient(circle at 50% 50%,rgba(255,255,255,0.08) 0,rgba(255,255,255,0) 52%),linear-gradient(0deg,rgba(255,255,255,0.05) 1px,transparent 1px),linear-gradient(90deg,rgba(255,255,255,0.05) 1px,transparent 1px);background-size:100% 100%,26px 26px,26px 26px;opacity:.65;mix-blend-mode:screen;pointer-events:none}
.type-map::after{content:"";position:absolute;inset:-40%;background:conic-gradient(from 180deg at 50% 50%,rgba(255,255,255,0.12),rgba(255,255,255,0),rgba(255,255,255,0));opacity:.35;pointer-events:none}
.type-map__connections{position:absolute;inset:0;width:100%;height:100%;pointer-events:none}
.type-map__nodes{position:absolute;inset:0}
.type-map__node{--type-color:#9aa6c6;--type-color-rgb:154,166,198;position:absolute;top:var(--type-y);left:var(--type-x);transform:translate(-50%,-50%);display:flex;flex-direction:column;align-items:center;gap:clamp(6px,1.8vw,8px);padding:clamp(10px,2.8vw,16px) clamp(12px,3vw,20px) clamp(8px,2.4vw,14px);border-radius:18px;border:2px solid rgba(255,255,255,0.1);background:linear-gradient(180deg,rgba(var(--type-color-rgb),0.35),rgba(12,20,36,0.75));color:#f0f4f8;text-transform:uppercase;font-weight:700;font-size:clamp(.68rem,2vw,.95rem);letter-spacing:.06em;box-shadow:0 14px 32px rgba(0,0,0,0.45);cursor:pointer;transition:transform .2s ease,box-shadow .2s ease,border-color .2s ease,background .2s ease;width:clamp(64px,20vw,116px);min-width:0}
.type-map__node:focus-visible,.type-map__node:hover{transform:translate(-50%,-50%) scale(1.06);box-shadow:0 16px 40px rgba(0,0,0,0.52);border-color:rgba(255,255,255,0.28);outline:none}
.type-map__node-ring{position:absolute;inset:-18px;background:radial-gradient(circle at 50% 50%,rgba(255,255,255,0.18),rgba(255,255,255,0) 68%);opacity:0;transition:opacity .25s ease;pointer-events:none;border-radius:50%}
.type-map__node-visual{position:relative;z-index:1;width:clamp(44px,14vw,62px);height:clamp(44px,14vw,62px);border-radius:50%;display:flex;align-items:center;justify-content:center;background:linear-gradient(160deg,rgba(8,16,32,0.78),rgba(8,16,32,0.6));box-shadow:0 12px 28px rgba(0,0,0,0.45),inset 0 0 0 1px rgba(255,255,255,0.08);overflow:hidden}
.type-map__node-icon{width:100%;height:100%;object-fit:cover;border-radius:50%;transform:scale(1.08);filter:drop-shadow(0 6px 12px rgba(0,0,0,0.45))}
.type-map__node--focus .type-map__node-visual{box-shadow:0 16px 36px rgba(0,0,0,0.55),0 0 0 2px rgba(var(--type-color-rgb),0.6)}
.type-map__node--ally .type-map__node-visual{box-shadow:0 14px 32px rgba(0,0,0,0.5),0 0 0 2px rgba(107,230,126,0.45)}
.type-map__node--danger .type-map__node-visual{box-shadow:0 14px 32px rgba(0,0,0,0.5),0 0 0 2px rgba(255,114,71,0.4)}
.type-map__node:hover .type-map__node-ring,.type-map__node:focus-visible .type-map__node-ring,.type-map__node--focus .type-map__node-ring{opacity:.85;background:radial-gradient(circle at 50% 50%,rgba(var(--type-color-rgb),0.6) 0,rgba(255,255,255,0) 72%)}
.type-map__node-name{position:relative;z-index:1}
.type-map__node-meta{position:relative;z-index:1;display:flex;gap:clamp(6px,2vw,8px)}
.type-map__node-pill{display:inline-flex;align-items:center;justify-content:center;min-width:clamp(22px,8vw,28px);height:clamp(22px,8vw,28px);border-radius:999px;font-size:clamp(.62rem,1.8vw,.72rem);font-weight:800;letter-spacing:.08em;background:rgba(255,255,255,0.1);color:#f0f4f8;border:1px solid rgba(255,255,255,0.18);box-shadow:inset 0 0 6px rgba(0,0,0,0.35)}
.type-map__node-pill--strong{background:rgba(var(--type-color-rgb),0.45);border-color:rgba(var(--type-color-rgb),0.7)}
.type-map__node-pill--weak{background:rgba(255,94,102,0.22);border-color:rgba(255,94,102,0.45)}
.type-map__node--focus{border-color:rgba(var(--type-color-rgb),0.78);box-shadow:0 20px 46px rgba(0,0,0,0.6),0 0 28px rgba(var(--type-color-rgb),0.6)}
.type-map__node--ally{box-shadow:0 0 0 2px rgba(107,230,126,0.38) inset}
.type-map__node--danger{box-shadow:0 0 0 2px rgba(255,114,71,0.35) inset}
.type-map__link{--type-color:#f0f4f8;--type-color-rgb:240,244,248;fill:none;stroke:var(--type-color);stroke-width:1.6;stroke-linecap:round;stroke-linejoin:round;opacity:.35;transition:opacity .3s ease,stroke-width .3s ease,filter .3s ease;pointer-events:none;color:var(--type-color)}
.type-map__link--active{stroke-width:2.6;opacity:.92;filter:drop-shadow(0 0 10px rgba(var(--type-color-rgb),0.55))}
.type-map__link--incoming{stroke-dasharray:5 4;opacity:.55}
.type-map__link--dim{opacity:.14;filter:blur(.4px)}
.type-map__legend{margin-top:18px;font-size:.95rem;color:rgba(240,244,248,0.78);text-align:center}
.type-map__source{margin:6px 0 0;font-size:.85rem;color:rgba(240,244,248,0.7);text-align:center}
.type-map__source a{color:rgba(129,211,255,0.88);text-decoration:none;font-weight:600}
.type-map__source a:hover,.type-map__source a:focus-visible{text-decoration:underline}
.type-map__detail{background:rgba(8,16,32,0.85);border-radius:24px;border:1px solid rgba(255,255,255,0.08);padding:24px;display:flex;flex-direction:column;gap:18px;box-shadow:0 34px 64px rgba(4,10,26,0.48);color:#f0f4f8;min-height:100%}
.type-map__detail-header{display:flex;flex-direction:column;gap:6px}
.type-map__detail-chip{display:inline-flex;align-items:center;justify-content:flex-start;gap:10px;font-size:clamp(1.05rem,2.8vw,1.3rem);font-weight:800;letter-spacing:.08em;text-transform:uppercase;background:linear-gradient(135deg,rgba(var(--type-color-rgb),0.65),rgba(8,16,32,0.55));border-radius:999px;padding:clamp(10px,2.6vw,12px) clamp(14px,3.4vw,18px);border:1px solid rgba(var(--type-color-rgb),0.7);box-shadow:0 10px 24px rgba(0,0,0,0.35)}
.type-map__detail-icon{width:clamp(32px,10vw,38px);height:clamp(32px,10vw,38px);object-fit:cover;border-radius:50%;transform:scale(1.05);filter:drop-shadow(0 6px 12px rgba(0,0,0,0.45))}
.type-map__detail-sub{font-size:.9rem;color:rgba(240,244,248,0.7);text-transform:uppercase;letter-spacing:.12em}
.type-map__detail-columns{display:grid;gap:18px}
@media (min-width:640px){.type-map__detail-columns{grid-template-columns:repeat(2,minmax(0,1fr))}}
.type-map__detail-columns h4{margin:0 0 8px;font-size:1rem;text-transform:uppercase;letter-spacing:.1em;color:rgba(var(--type-color-rgb),0.85)}
.type-map__detail-list{list-style:none;margin:0;padding:0;display:grid;gap:6px}
.type-map__detail-list li{background:rgba(255,255,255,0.05);border:1px solid rgba(255,255,255,0.12);border-radius:12px;padding:10px 14px;font-weight:600;letter-spacing:.04em}
.type-map__detail-empty{margin:0;font-style:italic;color:rgba(240,244,248,0.6)}
.type-map__detail-note{margin:0;font-size:.9rem;color:rgba(240,244,248,0.75);line-height:1.5}
.type-audit{margin-top:24px;background:rgba(8,16,32,0.8);border-radius:24px;border:1px solid rgba(255,255,255,0.08);padding:20px;display:grid;gap:16px;box-shadow:0 30px 60px rgba(4,10,26,0.4)}
.type-audit__title{margin:0;font-size:1.05rem;text-transform:uppercase;letter-spacing:.12em;color:rgba(240,244,248,0.85)}
.type-audit__list{list-style:none;margin:0;padding:0;display:grid;gap:12px}
.type-audit__item{display:grid;gap:8px;padding:14px 16px;border-radius:16px;background:rgba(255,255,255,0.05);border:1px solid rgba(255,255,255,0.08)}
.type-audit__item-header{display:flex;align-items:center;gap:10px;font-weight:700;letter-spacing:.08em;text-transform:uppercase;color:rgba(240,244,248,0.82)}
.type-audit__item-icon{width:32px;height:32px;border-radius:50%;object-fit:cover;box-shadow:0 6px 12px rgba(0,0,0,0.45)}
.type-audit__item-text{margin:0;font-size:.95rem;line-height:1.6;color:rgba(240,244,248,0.78)}
@media (max-width:720px){.type-map-layout{gap:20px}.type-map{border-radius:24px}.type-map__detail{border-radius:20px;padding:20px}.type-audit{border-radius:20px;padding:16px}.type-audit__item{padding:12px 14px}.type-audit__item-text{font-size:.9rem}}
@media (max-width:520px){.type-map{border-radius:22px;padding:16px}.type-map__node{border-width:1.5px}.type-map__detail{padding:18px;gap:16px}.type-map__detail-columns{gap:14px}.type-map__detail-note{font-size:.85rem}.type-audit{gap:14px}.type-audit__title{font-size:1rem}.type-audit__item-header{font-size:.85rem}}
