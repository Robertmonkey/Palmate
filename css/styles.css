.card{background:var(--card-bg,rgba(14,32,52,0.92));border-radius:18px;padding:16px 20px;margin:16px 0;box-shadow:0 8px 24px rgba(0,0,0,0.35);border:1px solid rgba(255,255,255,0.04)}
.card h3{margin-top:0}
.badges{display:flex;flex-wrap:wrap;gap:8px}
.btn{background:var(--secondary,#415a77);border:none;border-radius:999px;color:var(--text,#f0f4f8);cursor:pointer;font-size:0.95rem;font-weight:600;padding:10px 18px;transition:transform 0.2s ease,background 0.2s ease;min-height:44px}
.btn:hover{background:var(--accent,#778da9);transform:translateY(-1px)}
.btn:active{transform:scale(0.98)}
.chip{display:inline-flex;align-items:center;justify-content:center;padding:8px 14px;border-radius:999px;background:rgba(119,141,169,0.18);color:var(--text,#f0f4f8);font-size:0.9rem;font-weight:600;text-decoration:none;border:1px solid rgba(119,141,169,0.4);min-height:40px}
.chip.link{cursor:pointer;background:rgba(119,141,169,0.24)}
.chip.link:hover{background:rgba(119,141,169,0.4)}
.pal-filters{display:flex;flex-direction:column;gap:16px;margin:12px 0 4px}
.pal-filters__groups{display:flex;flex-direction:column;gap:16px}
@media (min-width:720px){.pal-filters__groups{flex-direction:row;align-items:flex-start;gap:24px}}
.pal-filter-group{flex:1;display:flex;flex-direction:column;gap:8px}
.pal-filter-label{font-size:.75rem;letter-spacing:.12em;text-transform:uppercase;color:rgba(224,225,221,0.7)}
.pal-filter-chips{display:flex;flex-wrap:wrap;gap:8px}
.pal-filter-chip{position:relative}
.pal-filter-chip__label{font-weight:600}
.pal-filter-chip__count{margin-left:8px;font-size:.75rem;font-weight:600;color:rgba(224,225,221,0.75)}
.pal-filter-chip--active{background:rgba(105,228,166,0.22);border-color:rgba(105,228,166,0.45);color:var(--text,#f0f4f8)}
.pal-filter-chip--active .pal-filter-chip__count{color:rgba(105,228,166,0.85)}
.pal-filter-tools{display:flex;flex-direction:column;gap:8px}
@media (min-width:720px){.pal-filter-tools{flex-direction:row;align-items:center;justify-content:space-between}}
.pal-filter-summary{margin:0;font-size:.9rem;color:var(--muted,rgba(224,225,221,0.7))}
.pal-filters__reset{align-self:flex-start;background:none;border:none;color:var(--accent,#778da9);font-weight:600;cursor:pointer;padding:0}
.pal-filters__reset:hover,.pal-filters__reset:focus-visible{color:var(--text,#f0f4f8);text-decoration:underline;outline:none}
.pal-card .work{display:flex;flex-wrap:wrap;gap:6px;margin-top:8px}
.pal-work-badge{display:inline-flex;align-items:center;gap:6px;padding:4px 10px;border-radius:999px;background:rgba(119,141,169,0.18);border:1px solid rgba(119,141,169,0.35);font-size:.75rem;font-weight:600;color:var(--text,#f0f4f8)}
.pal-work-badge__level{font-variant-numeric:tabular-nums;color:var(--accent,#778da9)}
.pal-work-badge--active{background:rgba(105,228,166,0.22);border-color:rgba(105,228,166,0.45)}
.tech-tiers{display:flex;flex-direction:column;gap:32px;margin-top:24px}
.tech-tier{border:1px solid rgba(255,255,255,0.08);border-radius:24px;background:rgba(8,16,32,0.85);box-shadow:0 24px 48px rgba(4,1
0,26,0.45);padding:24px}
.tech-tier__header{display:flex;align-items:center;gap:12px;margin-bottom:18px}
.tech-tier__label{font-size:.75rem;letter-spacing:.12em;text-transform:uppercase;color:rgba(224,225,221,0.7)}
.tech-tier__header h3{margin:0;font-size:1.8rem;color:var(--text,#f0f4f8)}
.tech-tier__columns{display:grid;gap:24px}
@media (min-width:768px){.tech-tier__columns{grid-template-columns:repeat(2,minmax(0,1fr))}}
.tech-column h4{margin:0 0 12px;font-size:1.1rem;color:rgba(224,225,221,0.85)}
.tech-empty{margin:0;font-style:italic;color:rgba(224,225,221,0.6)}
.tech-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:16px}
.tech-card{display:flex;gap:16px;background:rgba(12,24,44,0.88);border:1px solid rgba(255,255,255,0.08);border-radius:18px;pad
ding:16px;box-shadow:0 16px 36px rgba(0,0,0,0.4)}
.tech-image{flex:0 0 72px;height:72px;border-radius:16px;background:rgba(0,0,0,0.3);display:flex;align-items:center;justify-con
tent:center;overflow:hidden}
.tech-image img{width:100%;height:100%;object-fit:contain}
.tech-image--placeholder{font-size:1.8rem;color:rgba(224,225,221,0.75)}
.tech-body{display:flex;flex-direction:column;gap:8px}
.tech-name{margin:0;font-size:1.05rem}
.tech-badges{display:flex;flex-wrap:wrap;gap:8px}
.tech-badge{display:inline-flex;align-items:center;justify-content:center;padding:4px 10px;border-radius:999px;font-size:.75rem
;letter-spacing:.08em;text-transform:uppercase;background:rgba(119,141,169,0.22);color:rgba(224,225,221,0.85);border:1px solid r
gba(119,141,169,0.45)}
.tech-cost{margin:0;font-weight:600;color:var(--accent,#778da9)}
.tech-description{margin:0;color:rgba(224,225,221,0.8);line-height:1.4}
.tech-materials{list-style:none;margin:0;padding:0;display:grid;gap:6px;font-size:.9rem}
.tech-materials li{display:flex;justify-content:space-between;gap:12px;padding:6px 10px;border-radius:10px;background:rgba(0,0,0,
0.25);border:1px solid rgba(255,255,255,0.08)}
.tech-materials span:last-child{font-variant-numeric:tabular-nums;font-weight:600;color:rgba(224,225,221,0.95)}
.step-group{margin:12px 0}
.step-list{display:grid;gap:10px;margin:12px 0}
.step{display:flex;align-items:flex-start;gap:12px;padding:10px;border:1px solid #22314A;border-radius:12px;background:#101828}
.step input[type=checkbox]{width:24px;height:24px}
.step.optional{opacity:.95}
.step-meta{display:flex;flex-direction:column;gap:6px;flex:1}
.step .step-text{line-height:1.4}
.step .badges{margin-left:auto}
.step-category{display:inline-flex;align-items:center;font-size:.7rem;font-weight:700;letter-spacing:.08em;text-transform:uppercase;padding:2px 10px;border-radius:999px;background:rgba(119,141,169,0.2);color:#e0e9f5}
.step-category--base{background:rgba(94,163,255,0.22);color:#e6f2ff}
.step-category--gear{background:rgba(255,196,77,0.22);color:#fff4d6}
.step-category--tech{background:rgba(206,135,255,0.22);color:#f5e9ff}
.step-category--catch{background:rgba(125,214,134,0.22);color:#eaffed}
.step-category--prep{background:rgba(255,160,122,0.22);color:#ffe8e0}
.step-category--explore{background:rgba(132,206,235,0.22);color:#e7f6ff}
.step-category--boss{background:rgba(255,116,140,0.24);color:#ffe7ec}
.pulse{animation:pulse 1.2s ease-out 1}
@keyframes pulse{0%{box-shadow:0 0 0 0 rgba(105,228,166,.8)}100%{box-shadow:0 0 0 14px rgba(105,228,166,0)}}

.route-overview{display:flex;flex-direction:column;gap:16px}
.route-overview__header{display:flex;flex-direction:column;gap:16px}
@media (min-width:768px){.route-overview__header{flex-direction:row;justify-content:space-between;align-items:stretch}}
.route-overview__stats{display:grid;gap:12px;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));flex:1}
.route-overview__stat{background:rgba(8,16,32,0.68);border:1px solid rgba(255,255,255,0.08);border-radius:16px;padding:16px;display:grid;gap:10px;box-shadow:0 12px 32px rgba(0,0,0,0.35)}
.route-overview__stat-header{display:flex;align-items:center;gap:12px}
.route-overview__stat-icon{width:42px;height:42px;border-radius:12px;background:rgba(119,141,169,0.18);display:grid;place-items:center;font-size:1.2rem;color:var(--accent,#778da9)}
.route-overview__stat-title{margin:0;font-size:.85rem;letter-spacing:.08em;text-transform:uppercase;color:rgba(224,225,221,0.72)}
.route-overview__stat-value{margin:2px 0 0;font-size:1.25rem;font-weight:700;color:var(--text,#f0f4f8)}
.route-overview__meter{position:relative;width:100%;height:8px;border-radius:999px;background:rgba(255,255,255,0.12);overflow:hidden}
.route-overview__meter .fill{position:absolute;inset:0;height:100%;width:0;background:linear-gradient(90deg,var(--accent,#778da9),rgba(42,157,143,0.85));transition:width .3s ease}
.route-overview__stat-sub{margin:0;font-size:.85rem;color:var(--muted,rgba(224,225,221,0.7))}
.route-overview__next{margin:0;font-size:.95rem;color:var(--light,#e0e1dd);line-height:1.5}
.route-overview__next strong{color:var(--accent,#778da9)}
.route-overview__controls{display:flex;flex-direction:column;gap:12px}
@media (min-width:768px){.route-overview__controls{flex-direction:row;align-items:flex-start;justify-content:space-between}}
.route-overview__actions{display:flex;gap:8px;flex-wrap:wrap}
.route-overview__actions .btn{flex:0 0 auto}
.route-filters{display:flex;flex-direction:column;gap:8px}
.route-filters__header{display:flex;align-items:center;gap:12px;flex-wrap:wrap}
.route-filters__label{font-size:.8rem;letter-spacing:.12em;text-transform:uppercase;color:rgba(224,225,221,0.7)}
.route-filters__chips{display:flex;flex-wrap:wrap;gap:8px}
.route-filter{position:relative}
.route-filter__label{font-weight:600}
.route-filter__count{margin-left:8px;font-size:.75rem;font-weight:600;color:rgba(224,225,221,0.75)}
.route-filter--inactive{opacity:.45}
.route-filter--inactive .route-filter__count{color:rgba(224,225,221,0.5)}
.route-filters__reset{background:none;border:none;color:var(--accent,#778da9);cursor:pointer;padding:0}
.route-filters__reset:focus-visible{outline:2px solid var(--accent,#778da9);outline-offset:2px}
.route-filters__empty{margin:0;color:var(--muted,rgba(224,225,221,0.7))}

.type-map-layout{display:grid;gap:24px;margin-top:20px}
@media (min-width:960px){.type-map-layout{grid-template-columns:minmax(0,1fr) minmax(0,320px);align-items:stretch}}
.type-map{position:relative;width:100%;aspect-ratio:1;border-radius:28px;background:radial-gradient(140% 120% at 50% 18%,rgba(129,211,255,0.18),rgba(8,16,32,0.95) 65%),linear-gradient(135deg,rgba(91,53,202,0.32),rgba(255,114,71,0.18));border:1px solid rgba(255,255,255,0.08);overflow:hidden;box-shadow:0 40px 80px rgba(4,10,26,0.5);padding:clamp(12px,3vw,22px)}
.type-map::before{content:"";position:absolute;inset:0;background-image:radial-gradient(circle at 50% 50%,rgba(255,255,255,0.08) 0,rgba(255,255,255,0) 52%),linear-gradient(0deg,rgba(255,255,255,0.05) 1px,transparent 1px),linear-gradient(90deg,rgba(255,255,255,0.05) 1px,transparent 1px);background-size:100% 100%,26px 26px,26px 26px;opacity:.65;mix-blend-mode:screen;pointer-events:none}
.type-map::after{content:"";position:absolute;inset:-40%;background:conic-gradient(from 180deg at 50% 50%,rgba(255,255,255,0.12),rgba(255,255,255,0),rgba(255,255,255,0));opacity:.35;pointer-events:none}
.type-map__connections{position:absolute;inset:0;width:100%;height:100%;pointer-events:none}
.type-map__nodes{position:absolute;inset:0}
.type-map__node{--type-color:#9aa6c6;--type-color-rgb:154,166,198;position:absolute;top:var(--type-y);left:var(--type-x);transform:translate(-50%,-50%);display:flex;flex-direction:column;align-items:center;gap:clamp(6px,1.8vw,8px);padding:clamp(10px,2.8vw,16px) clamp(12px,3vw,20px) clamp(8px,2.4vw,14px);border-radius:18px;border:2px solid rgba(255,255,255,0.1);background:linear-gradient(180deg,rgba(var(--type-color-rgb),0.35),rgba(12,20,36,0.75));color:#f0f4f8;text-transform:uppercase;font-weight:700;font-size:clamp(.68rem,2vw,.95rem);letter-spacing:.06em;box-shadow:0 14px 32px rgba(0,0,0,0.45);cursor:pointer;transition:transform .2s ease,box-shadow .2s ease,border-color .2s ease,background .2s ease;width:clamp(64px,20vw,116px);min-width:0}
.type-map__node:focus-visible,.type-map__node:hover{transform:translate(-50%,-50%) scale(1.06);box-shadow:0 16px 40px rgba(0,0,0,0.52);border-color:rgba(255,255,255,0.28);outline:none}
.type-map__node-ring{position:absolute;inset:-18px;background:radial-gradient(circle at 50% 50%,rgba(255,255,255,0.18),rgba(255,255,255,0) 68%);opacity:0;transition:opacity .25s ease;pointer-events:none;border-radius:50%}
.type-map__node-visual{position:relative;z-index:1;width:clamp(44px,14vw,62px);height:clamp(44px,14vw,62px);border-radius:50%;display:flex;align-items:center;justify-content:center;background:linear-gradient(160deg,rgba(8,16,32,0.78),rgba(8,16,32,0.6));box-shadow:0 12px 28px rgba(0,0,0,0.45),inset 0 0 0 1px rgba(255,255,255,0.08);overflow:hidden}
.type-map__node-icon{width:100%;height:100%;object-fit:cover;border-radius:50%;transform:scale(1.08);filter:drop-shadow(0 6px 12px rgba(0,0,0,0.45))}
.type-map__node--focus .type-map__node-visual{box-shadow:0 16px 36px rgba(0,0,0,0.55),0 0 0 2px rgba(var(--type-color-rgb),0.6)}
.type-map__node--ally .type-map__node-visual{box-shadow:0 14px 32px rgba(0,0,0,0.5),0 0 0 2px rgba(107,230,126,0.45)}
.type-map__node--danger .type-map__node-visual{box-shadow:0 14px 32px rgba(0,0,0,0.5),0 0 0 2px rgba(255,114,71,0.4)}
.type-map__node:hover .type-map__node-ring,.type-map__node:focus-visible .type-map__node-ring,.type-map__node--focus .type-map__node-ring{opacity:.85;background:radial-gradient(circle at 50% 50%,rgba(var(--type-color-rgb),0.6) 0,rgba(255,255,255,0) 72%)}
.type-map__node-name{position:relative;z-index:1}
.type-map__node-meta{position:relative;z-index:1;display:flex;gap:clamp(6px,2vw,8px)}
.type-map__node-pill{display:inline-flex;align-items:center;justify-content:center;min-width:clamp(22px,8vw,28px);height:clamp(22px,8vw,28px);border-radius:999px;font-size:clamp(.62rem,1.8vw,.72rem);font-weight:800;letter-spacing:.08em;background:rgba(255,255,255,0.1);color:#f0f4f8;border:1px solid rgba(255,255,255,0.18);box-shadow:inset 0 0 6px rgba(0,0,0,0.35)}
.type-map__node-pill--strong{background:rgba(var(--type-color-rgb),0.45);border-color:rgba(var(--type-color-rgb),0.7)}
.type-map__node-pill--weak{background:rgba(255,94,102,0.22);border-color:rgba(255,94,102,0.45)}
.type-map__node--focus{border-color:rgba(var(--type-color-rgb),0.78);box-shadow:0 20px 46px rgba(0,0,0,0.6),0 0 28px rgba(var(--type-color-rgb),0.6)}
.type-map__node--ally{box-shadow:0 0 0 2px rgba(107,230,126,0.38) inset}
.type-map__node--danger{box-shadow:0 0 0 2px rgba(255,114,71,0.35) inset}
.type-map__link{--type-color:#f0f4f8;--type-color-rgb:240,244,248;fill:none;stroke:var(--type-color);stroke-width:1.6;stroke-linecap:round;stroke-linejoin:round;opacity:.35;transition:opacity .3s ease,stroke-width .3s ease,filter .3s ease;pointer-events:none;color:var(--type-color)}
.type-map__link--active{stroke-width:2.6;opacity:.92;filter:drop-shadow(0 0 10px rgba(var(--type-color-rgb),0.55))}
.type-map__link--incoming{stroke-dasharray:5 4;opacity:.55}
.type-map__link--dim{opacity:.14;filter:blur(.4px)}
.type-map__legend{margin-top:18px;font-size:.95rem;color:rgba(240,244,248,0.78);text-align:center}
.type-map__source{margin:6px 0 0;font-size:.85rem;color:rgba(240,244,248,0.7);text-align:center}
.type-map__source a{color:rgba(129,211,255,0.88);text-decoration:none;font-weight:600}
.type-map__source a:hover,.type-map__source a:focus-visible{text-decoration:underline}
.type-map__detail{background:rgba(8,16,32,0.85);border-radius:24px;border:1px solid rgba(255,255,255,0.08);padding:24px;display:flex;flex-direction:column;gap:18px;box-shadow:0 34px 64px rgba(4,10,26,0.48);color:#f0f4f8;min-height:100%}
.type-map__detail-header{display:flex;flex-direction:column;gap:6px}
.type-map__detail-chip{display:inline-flex;align-items:center;justify-content:flex-start;gap:10px;font-size:clamp(1.05rem,2.8vw,1.3rem);font-weight:800;letter-spacing:.08em;text-transform:uppercase;background:linear-gradient(135deg,rgba(var(--type-color-rgb),0.65),rgba(8,16,32,0.55));border-radius:999px;padding:clamp(10px,2.6vw,12px) clamp(14px,3.4vw,18px);border:1px solid rgba(var(--type-color-rgb),0.7);box-shadow:0 10px 24px rgba(0,0,0,0.35)}
.type-map__detail-icon{width:clamp(32px,10vw,38px);height:clamp(32px,10vw,38px);object-fit:cover;border-radius:50%;transform:scale(1.05);filter:drop-shadow(0 6px 12px rgba(0,0,0,0.45))}
.type-map__detail-sub{font-size:.9rem;color:rgba(240,244,248,0.7);text-transform:uppercase;letter-spacing:.12em}
.type-map__detail-columns{display:grid;gap:18px}
@media (min-width:640px){.type-map__detail-columns{grid-template-columns:repeat(2,minmax(0,1fr))}}
.type-map__detail-columns h4{margin:0 0 8px;font-size:1rem;text-transform:uppercase;letter-spacing:.1em;color:rgba(var(--type-color-rgb),0.85)}
.type-map__detail-list{list-style:none;margin:0;padding:0;display:grid;gap:6px}
.type-map__detail-list li{background:rgba(255,255,255,0.05);border:1px solid rgba(255,255,255,0.12);border-radius:12px;padding:10px 14px;font-weight:600;letter-spacing:.04em}
.type-map__detail-empty{margin:0;font-style:italic;color:rgba(240,244,248,0.6)}
.type-map__detail-note{margin:0;font-size:.9rem;color:rgba(240,244,248,0.75);line-height:1.5}
.type-audit{margin-top:24px;background:rgba(8,16,32,0.8);border-radius:24px;border:1px solid rgba(255,255,255,0.08);padding:20px;display:grid;gap:16px;box-shadow:0 30px 60px rgba(4,10,26,0.4)}
.type-audit__title{margin:0;font-size:1.05rem;text-transform:uppercase;letter-spacing:.12em;color:rgba(240,244,248,0.85)}
.type-audit__list{list-style:none;margin:0;padding:0;display:grid;gap:12px}
.type-audit__item{display:grid;gap:8px;padding:14px 16px;border-radius:16px;background:rgba(255,255,255,0.05);border:1px solid rgba(255,255,255,0.08)}
.type-audit__item-header{display:flex;align-items:center;gap:10px;font-weight:700;letter-spacing:.08em;text-transform:uppercase;color:rgba(240,244,248,0.82)}
.type-audit__item-icon{width:32px;height:32px;border-radius:50%;object-fit:cover;box-shadow:0 6px 12px rgba(0,0,0,0.45)}
.type-audit__item-text{margin:0;font-size:.95rem;line-height:1.6;color:rgba(240,244,248,0.78)}
@media (max-width:720px){.type-map-layout{gap:20px}.type-map{border-radius:24px}.type-map__detail{border-radius:20px;padding:20px}.type-audit{border-radius:20px;padding:16px}.type-audit__item{padding:12px 14px}.type-audit__item-text{font-size:.9rem}}
@media (max-width:520px){.type-map{border-radius:22px;padding:16px}.type-map__node{border-width:1.5px}.type-map__detail{padding:18px;gap:16px}.type-map__detail-columns{gap:14px}.type-map__detail-note{font-size:.85rem}.type-audit{gap:14px}.type-audit__title{font-size:1rem}.type-audit__item-header{font-size:.85rem}}
