.card{background:var(--card-bg,rgba(14,32,52,0.92));border-radius:18px;padding:16px 20px;margin:16px 0;box-shadow:0 8px 24px rgba(0,0,0,0.35);border:1px solid rgba(255,255,255,0.04)}
.card h3{margin-top:0}
.guide-card{position:relative;display:grid;gap:16px;padding:20px;border-radius:22px;border:1px solid rgba(119,141,169,0.28);box-shadow:0 20px 44px rgba(0,0,0,0.48);color:var(--text,#f0f4f8);background-image:linear-gradient(160deg,var(--guide-card-overlay,rgba(12,24,40,0.72)),rgba(8,16,32,0.92)),var(--guide-card-image, url('../assets/images/palworld-full-map-2.webp'));background-size:cover;background-position:var(--guide-card-position,center 40%);overflow:hidden;isolation:isolate;transition:transform .25s ease,box-shadow .25s ease,border-color .25s ease}
.guide-card::after{content:"";position:absolute;inset:0;background:linear-gradient(180deg,rgba(6,12,24,0.12),rgba(6,12,24,0.55));mix-blend-mode:soft-light;pointer-events:none}
.guide-card>*{position:relative;z-index:1}
.guide-card:hover{transform:translateY(-4px);border-color:rgba(148,210,189,0.58);box-shadow:0 28px 56px rgba(0,0,0,0.58)}
.guide-card__header{display:flex;align-items:flex-start;gap:16px}
.guide-card__icon{display:grid;place-items:center;width:52px;height:52px;border-radius:16px;background:rgba(0,0,0,0.32);box-shadow:0 12px 26px rgba(0,0,0,0.48);font-size:1.4rem;color:var(--guide-card-accent,var(--accent,#9bd4ff))}
.guide-card__headline{display:flex;flex-direction:column;gap:6px;min-width:0}
.guide-card__badge{display:inline-flex;align-items:center;gap:6px;width:max-content;padding:4px 12px;border-radius:999px;background:rgba(0,0,0,0.35);border:1px solid rgba(255,255,255,0.18);font-size:.75rem;font-weight:700;letter-spacing:.08em;text-transform:uppercase;color:rgba(255,255,255,0.86)}
.guide-card__title{margin:0;font-size:1.25rem;letter-spacing:.01em}
.guide-card__meta{margin:0;font-size:.9rem;color:rgba(224,225,221,0.78)}
.guide-card__footer{display:flex;flex-direction:column;gap:12px}
.guide-card__actions{display:flex;flex-wrap:wrap;gap:10px}
.guide-card__keywords{display:flex;flex-wrap:wrap;gap:8px}
.guide-card__keyword{padding:4px 10px;border-radius:999px;background:rgba(0,0,0,0.35);border:1px solid rgba(255,255,255,0.16);font-size:.75rem;font-weight:600;color:rgba(224,225,221,0.85)}
.badges{display:flex;flex-wrap:wrap;gap:8px}
.btn{background:var(--secondary,#415a77);border:none;border-radius:999px;color:var(--text,#f0f4f8);cursor:pointer;font-size:0.95rem;font-weight:600;padding:10px 18px;transition:transform 0.2s ease,background 0.2s ease;min-height:44px}
.btn:hover{background:var(--accent,#778da9);transform:translateY(-1px)}
.btn:active{transform:scale(0.98)}
.btn--ghost{background:rgba(13,27,42,0.5);border:1px solid rgba(119,141,169,0.35);color:var(--text,#f0f4f8);transition:border-color 0.25s ease,background 0.25s ease,color 0.25s ease}
.btn--ghost:hover,.btn--ghost:focus-visible{background:rgba(13,27,42,0.7);border-color:rgba(148,210,189,0.55);color:var(--accent,#778da9);outline:none}
.chip{display:inline-flex;align-items:center;justify-content:center;padding:8px 14px;border-radius:999px;background:rgba(119,141,169,0.18);color:var(--text,#f0f4f8);font-size:0.9rem;font-weight:600;text-decoration:none;border:1px solid rgba(119,141,169,0.4);min-height:40px}
.chip.link{position:relative;display:inline-flex;align-items:center;gap:12px;padding:10px 18px;border-radius:16px;background:linear-gradient(135deg,rgba(24,42,68,0.92),rgba(14,30,54,0.88));border:1px solid rgba(119,141,169,0.38);box-shadow:0 16px 28px rgba(0,0,0,0.4);cursor:pointer;transition:transform .2s ease,box-shadow .25s ease,border-color .25s ease,color .2s ease;min-height:0;min-width:0}
.chip.link::before{content:"\f0c1";font-family:"Font Awesome 6 Free";font-weight:900;font-size:.82rem;line-height:1;color:rgba(148,210,189,0.85);width:1.2rem;text-align:center;transition:color .2s ease,transform .2s ease;flex:0 0 1.2rem}
.chip.link:hover,.chip.link:focus-visible{border-color:rgba(148,210,189,0.65);box-shadow:0 20px 36px rgba(148,210,189,0.25);transform:translateY(-1px);outline:none}
.chip.link:hover::before,.chip.link:focus-visible::before{color:rgba(224,255,244,0.95);transform:scale(1.05)}
.chip.link.link--with-thumb::before{display:none}
.chip__thumb{width:42px;height:42px;border-radius:14px;overflow:hidden;flex:0 0 42px;background:rgba(148,210,189,0.15);box-shadow:0 14px 26px rgba(4,14,28,0.45);display:grid;place-items:center}
.chip__thumb img{width:100%;height:100%;object-fit:cover;display:block}
.chip.link.link--with-thumb{padding:10px 20px}
.chip__body{display:flex;flex-direction:column;align-items:flex-start;gap:2px;min-width:0}
.chip__label{font-weight:600;font-size:.9rem;line-height:1.2;color:var(--text,#f0f4f8)}
.chip__meta{font-size:.7rem;letter-spacing:.04em;text-transform:uppercase;color:rgba(224,225,221,0.7);line-height:1.2}
.chip.link[data-link-type="pal"]::before{content:"\f6ff"}
.chip.link[data-link-type="item"]::before{content:"\f0ad"}
.chip.link[data-link-type="tech"]::before{content:"\f542"}
.chip.link[data-link-type="passive"]::before{content:"\f135"}
.chip.link[data-link-type="move"]::before{content:"\f554"}
.chip.link[data-link-type="glossary"]::before{content:"\f02d"}
.chip.link[data-link-type="tower"]::before{content:"\f6d9"}
.chip.link[data-link-type="location"]::before{content:"\f3c5"}
.chip.link[data-link-type="npc"]::before{content:"\f007"}
.pal-filters{display:flex;flex-direction:column;gap:16px;margin:12px 0 4px}
.pal-filters__groups{display:flex;flex-direction:column;gap:16px}
@media (min-width:720px){.pal-filters__groups{flex-direction:row;align-items:flex-start;gap:24px}}
.pal-filter-group{flex:1;display:flex;flex-direction:column;gap:8px}
.pal-filter-label{font-size:.75rem;letter-spacing:.12em;text-transform:uppercase;color:rgba(224,225,221,0.7)}
.pal-filter-chips{display:flex;flex-wrap:wrap;gap:8px}
.pal-filter-chip{position:relative}
.pal-filter-chip__label{font-weight:600}
.pal-filter-chip__count{margin-left:8px;font-size:.75rem;font-weight:600;color:rgba(224,225,221,0.75)}
.pal-filter-chip--active{background:rgba(105,228,166,0.22);border-color:rgba(105,228,166,0.45);color:var(--text,#f0f4f8)}
.pal-filter-chip--active .pal-filter-chip__count{color:rgba(105,228,166,0.85)}
.pal-filter-tools{display:flex;flex-direction:column;gap:8px}
@media (min-width:720px){.pal-filter-tools{flex-direction:row;align-items:center;justify-content:space-between}}
.pal-filter-summary{margin:0;font-size:.9rem;color:var(--muted,rgba(224,225,221,0.7))}
.pal-filters__reset{align-self:flex-start;background:none;border:none;color:var(--accent,#778da9);font-weight:600;cursor:pointer;padding:0}
.pal-filters__reset:hover,.pal-filters__reset:focus-visible{color:var(--text,#f0f4f8);text-decoration:underline;outline:none}
.pal-card .work{display:flex;flex-wrap:wrap;gap:6px;margin-top:8px}
.pal-work-badge{display:inline-flex;align-items:center;gap:6px;padding:4px 10px;border-radius:999px;background:rgba(119,141,169,0.18);border:1px solid rgba(119,141,169,0.35);font-size:.75rem;font-weight:600;color:var(--text,#f0f4f8)}
.pal-work-badge__level{font-variant-numeric:tabular-nums;color:var(--accent,#778da9)}
.pal-work-badge--active{background:rgba(105,228,166,0.22);border-color:rgba(105,228,166,0.45)}
.tech-tiers{display:flex;flex-direction:column;gap:32px;margin-top:24px}
.tech-tier{border:1px solid rgba(255,255,255,0.08);border-radius:24px;background:rgba(8,16,32,0.85);box-shadow:0 24px 48px rgba(4,1
0,26,0.45);padding:24px}
.tech-tier__header{display:flex;align-items:center;gap:12px;margin-bottom:18px}
.tech-tier__label{font-size:.75rem;letter-spacing:.12em;text-transform:uppercase;color:rgba(224,225,221,0.7)}
.tech-tier__header h3{margin:0;font-size:1.8rem;color:var(--text,#f0f4f8)}
.tech-tier__columns{display:grid;gap:24px}
@media (min-width:768px){.tech-tier__columns{grid-template-columns:repeat(2,minmax(0,1fr))}}
.tech-column h4{margin:0 0 12px;font-size:1.1rem;color:rgba(224,225,221,0.85)}
.tech-empty{margin:0;font-style:italic;color:rgba(224,225,221,0.6)}
.tech-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:16px}
.tech-card{display:flex;gap:16px;background:rgba(12,24,44,0.88);border:1px solid rgba(255,255,255,0.08);border-radius:18px;pad
ding:16px;box-shadow:0 16px 36px rgba(0,0,0,0.4)}
.tech-image{flex:0 0 72px;height:72px;border-radius:16px;background:rgba(0,0,0,0.3);display:flex;align-items:center;justify-con
tent:center;overflow:hidden}
.tech-image img{width:100%;height:100%;object-fit:contain}
.tech-image--placeholder{font-size:1.8rem;color:rgba(224,225,221,0.75)}
.tech-body{display:flex;flex-direction:column;gap:8px}
.tech-name{margin:0;font-size:1.05rem}
.tech-badges{display:flex;flex-wrap:wrap;gap:8px}
.tech-badge{display:inline-flex;align-items:center;justify-content:center;padding:4px 10px;border-radius:999px;font-size:.75rem
;letter-spacing:.08em;text-transform:uppercase;background:rgba(119,141,169,0.22);color:rgba(224,225,221,0.85);border:1px solid r
gba(119,141,169,0.45)}
.tech-cost{margin:0;font-weight:600;color:var(--accent,#778da9)}
.tech-description{margin:0;color:rgba(224,225,221,0.8);line-height:1.4}
.tech-materials{list-style:none;margin:0;padding:0;display:grid;gap:6px;font-size:.9rem}
.tech-materials li{display:flex;justify-content:space-between;gap:12px;padding:6px 10px;border-radius:10px;background:rgba(0,0,0,
0.25);border:1px solid rgba(255,255,255,0.08)}
.tech-materials span:last-child{font-variant-numeric:tabular-nums;font-weight:600;color:rgba(224,225,221,0.95)}
.step-group{margin:12px 0}
.step-list{display:grid;gap:16px;margin:12px 0}
@media (min-width:1080px){.step-list{grid-template-columns:repeat(auto-fit,minmax(420px,1fr));gap:clamp(16px,1.8vw,26px)}}
.step{position:relative;display:grid;grid-template-columns:34px minmax(0,1fr);align-items:flex-start;gap:16px;padding:20px 22px;border-radius:22px;background:linear-gradient(140deg,rgba(16,32,52,0.94),rgba(8,18,34,0.88));border:1px solid rgba(119,141,169,0.32);box-shadow:0 22px 44px rgba(0,0,0,0.48);transition:transform .22s ease,border-color .28s ease,box-shadow .28s ease,background .28s ease}
.step::before{content:"";position:absolute;inset:1px;border-radius:inherit;background:radial-gradient(circle at top left,rgba(148,210,189,0.22),transparent 65%);opacity:.35;pointer-events:none;transition:opacity .3s ease}
.step:hover,.step:focus-within{transform:translateY(-2px);border-color:rgba(148,210,189,0.65);box-shadow:0 28px 54px rgba(0,0,0,0.55)}
.step:hover::before,.step:focus-within::before{opacity:.6}
.step--checked{border-color:rgba(148,210,189,0.75);box-shadow:0 30px 60px rgba(148,210,189,0.22)}
.step--checked::before{opacity:.75}
.step input[type=checkbox]{appearance:none;width:28px;height:28px;margin:2px 0 0;display:grid;place-items:center;border-radius:10px;border:2px solid rgba(119,141,169,0.48);background:rgba(6,14,26,0.92);box-shadow:inset 0 0 0 1px rgba(255,255,255,0.06);transition:border-color .2s ease,box-shadow .2s ease,background .2s ease;cursor:pointer;grid-row:1/span 2;align-self:flex-start}
.step input[type=checkbox]::after{content:"\f00c";font-family:"Font Awesome 6 Free";font-weight:900;font-size:1rem;color:rgba(224,255,244,0.9);transform:scale(0);transition:transform .2s ease,color .2s ease}
.step input[type=checkbox]:hover{border-color:rgba(148,210,189,0.7)}
.step input[type=checkbox]:focus-visible{outline:2px solid rgba(148,210,189,0.65);outline-offset:3px}
.step input[type=checkbox]:checked{border-color:rgba(148,210,189,0.85);background:rgba(148,210,189,0.16);box-shadow:0 0 0 3px rgba(148,210,189,0.22),inset 0 0 0 1px rgba(255,255,255,0.08)}
.step input[type=checkbox]:checked::after{transform:scale(1)}
.step.optional{background:linear-gradient(140deg,rgba(32,24,6,0.92),rgba(26,18,6,0.88));border-color:rgba(255,196,77,0.35)}
.step.optional::before{background:radial-gradient(circle at top left,rgba(255,196,77,0.28),transparent 65%)}
.step.optional.step--checked{border-color:rgba(255,196,77,0.55);box-shadow:0 28px 52px rgba(255,196,77,0.22)}
.step-content,.step-meta{display:grid;gap:12px}
.step-header{display:flex;align-items:center;gap:8px;flex-wrap:wrap}
.step-text{margin:0;font-size:1rem;line-height:1.65;color:var(--light,#e0e1dd);font-weight:500}
.step-links{display:flex;flex-wrap:wrap;gap:10px;margin-top:4px}
.step .badges{margin:0}
.step-flag{display:inline-flex;align-items:center;padding:4px 12px;border-radius:999px;font-size:.72rem;letter-spacing:.1em;text-transform:uppercase;background:rgba(148,210,189,0.25);border:1px solid rgba(148,210,189,0.55);color:rgba(224,255,244,0.92);font-weight:700}
.step.optional .step-flag{background:rgba(255,196,77,0.26);border-color:rgba(255,196,77,0.58);color:rgba(255,244,214,0.92)}
.step--checked .step-text{color:#f6fbff}
.step--checked .step-category{box-shadow:0 0 0 1px rgba(148,210,189,0.5);color:#f6fbff}
.step-category{display:inline-flex;align-items:center;font-size:.75rem;font-weight:700;letter-spacing:.08em;text-transform:uppercase;padding:4px 12px;border-radius:999px;background:rgba(119,141,169,0.24);border:1px solid rgba(119,141,169,0.4);color:#e0e9f5}
.step-category--base{background:rgba(94,163,255,0.22);border-color:rgba(94,163,255,0.38);color:#e6f2ff}
.step-category--gear{background:rgba(255,196,77,0.22);border-color:rgba(255,196,77,0.4);color:#fff4d6}
.step-category--tech{background:rgba(206,135,255,0.22);border-color:rgba(206,135,255,0.4);color:#f5e9ff}
.step-category--catch{background:rgba(125,214,134,0.22);border-color:rgba(125,214,134,0.38);color:#eaffed}
.step-category--prep{background:rgba(255,160,122,0.22);border-color:rgba(255,160,122,0.4);color:#ffe8e0}
.step-category--explore{background:rgba(132,206,235,0.22);border-color:rgba(132,206,235,0.38);color:#e7f6ff}
.step-category--boss{background:rgba(255,116,140,0.24);border-color:rgba(255,116,140,0.42);color:#ffe7ec}
.pulse{animation:pulse 1.2s ease-out 1}
@keyframes pulse{0%{box-shadow:0 0 0 0 rgba(105,228,166,.8)}100%{box-shadow:0 0 0 14px rgba(105,228,166,0)}}

@keyframes routeGlow{0%{transform:translate3d(-10%, -6%, 0) rotate(0deg);opacity:.28}50%{transform:translate3d(6%, -14%, 0) rotate(40deg);opacity:.42}100%{transform:translate3d(-10%, -6%, 0) rotate(0deg);opacity:.28}}
@keyframes routeTogglePulse{0%,100%{opacity:.55;transform:scale(.98)}50%{opacity:.92;transform:scale(1.05)}}
@keyframes routeSpin{to{transform:rotate(360deg)}}

.route-page--modern{display:grid;gap:28px;margin:16px 0}
.route-dashboard{padding:clamp(24px,3vw,32px);display:grid;gap:clamp(20px,2vw,28px);background:linear-gradient(140deg,rgba(18,40,62,0.92),rgba(8,18,32,0.92));border-radius:28px;border:1px solid rgba(119,141,169,0.32);box-shadow:0 32px 60px rgba(0,0,0,0.52)}
.route-dashboard__header{display:flex;flex-wrap:wrap;align-items:flex-start;justify-content:space-between;gap:20px}
.route-dashboard__titles{display:grid;gap:10px;max-width:min(680px,100%)}
.route-dashboard__eyebrow{font-size:.75rem;letter-spacing:.16em;text-transform:uppercase;color:rgba(224,225,221,0.68)}
.route-dashboard__lead{margin:0;font-size:1rem;color:var(--muted,rgba(224,225,221,0.74));line-height:1.55}
.route-dashboard__actions{display:flex;align-items:center;gap:10px;flex-wrap:wrap}
.route-dashboard__stats{display:grid;gap:18px;grid-template-columns:repeat(auto-fit,minmax(220px,1fr))}
.route-dashboard__stat{background:rgba(8,16,32,0.72);border:1px solid rgba(119,141,169,0.26);border-radius:20px;padding:18px;display:grid;gap:10px;box-shadow:inset 0 0 0 1px rgba(255,255,255,0.04)}
.route-dashboard__stat-label{font-size:.78rem;letter-spacing:.1em;text-transform:uppercase;color:rgba(224,225,221,0.64)}
.route-dashboard__stat-value{font-size:clamp(1.6rem,1.1vw+1.35rem,2.1rem);font-weight:700;color:var(--text,#f0f4f8)}
.route-dashboard__stat-meta{margin:0;font-size:.9rem;color:var(--muted,rgba(224,225,221,0.74))}
.route-dashboard__progress-bar{position:relative;width:100%;height:8px;border-radius:999px;background:rgba(255,255,255,0.14);overflow:hidden}
.route-dashboard__progress-fill{display:block;height:100%;width:0;background:linear-gradient(90deg,var(--accent,#778da9),rgba(148,210,189,0.9));transition:width .3s ease}
.route-dashboard__progress-fill--optional{background:linear-gradient(90deg,rgba(255,196,77,0.85),rgba(231,111,81,0.9))}
.route-dashboard__next{border-top:1px solid rgba(119,141,169,0.28);padding-top:14px;font-size:1rem;font-weight:600;color:var(--light,#e0e1dd)}
.route-layout{display:grid;gap:clamp(26px,3vw,36px)}
.route-layout>*{min-width:0}
.route-chapter-stack{display:grid;gap:clamp(24px,3vw,34px)}
.route-timeline{position:relative;overflow:hidden;display:grid;gap:clamp(20px,2.4vw,28px);padding:clamp(24px,3vw,32px);border-radius:28px;background:linear-gradient(150deg,rgba(13,27,42,0.92),rgba(8,18,34,0.9));border:1px solid rgba(119,141,169,0.3);box-shadow:0 30px 58px rgba(0,0,0,0.52)}
.route-timeline::after{content:"";position:absolute;inset:auto -160px -200px auto;width:320px;height:320px;background:radial-gradient(circle at center,rgba(148,210,189,0.25),transparent 70%);opacity:.4;pointer-events:none}
.route-timeline__header{display:flex;flex-direction:column;gap:8px}
.route-timeline__header h3{margin:0;font-size:1.2rem}
.route-timeline__header p{margin:0;font-size:.92rem;color:var(--muted,rgba(224,225,221,0.72))}
.route-timeline__list{list-style:none;margin:0;padding:4px 0 0;display:flex;gap:clamp(14px,2vw,20px);overflow-x:auto;scroll-snap-type:x mandatory}
.route-timeline__list::-webkit-scrollbar{height:6px}
.route-timeline__list::-webkit-scrollbar-thumb{background:rgba(119,141,169,0.32);border-radius:999px}
.route-timeline__item{border:1px solid rgba(119,141,169,0.24);border-radius:18px;background:rgba(8,16,32,0.65);transition:border-color .25s ease,box-shadow .25s ease,transform .2s ease;min-width:clamp(220px,28vw,300px);scroll-snap-align:start;display:flex}
.route-timeline__item--active{border-color:rgba(148,210,189,0.65);box-shadow:0 20px 36px rgba(148,210,189,0.18)}
.route-timeline__item--complete{border-color:rgba(119,141,169,0.32);background:rgba(8,16,32,0.72)}
.route-timeline__anchor{width:100%;display:grid;gap:4px;padding:14px 16px;background:none;border:none;color:inherit;text-align:left;cursor:pointer;border-radius:inherit;position:relative;isolation:isolate}
.route-timeline__anchor:hover,.route-timeline__anchor:focus-visible{outline:none}
.route-timeline__anchor:focus-visible{box-shadow:0 0 0 3px rgba(148,210,189,0.45)}
.route-timeline__anchor:hover .route-timeline__title,.route-timeline__anchor:focus-visible .route-timeline__title{color:var(--accent,#778da9)}
.route-timeline__step{font-size:.74rem;letter-spacing:.12em;text-transform:uppercase;color:rgba(224,225,221,0.68)}
.route-timeline__title{font-size:1rem;font-weight:600;color:var(--text,#f0f4f8)}
.route-timeline__meta{font-size:.82rem;color:var(--muted,rgba(224,225,221,0.72))}
.route-timeline__progress{display:block;width:100%;height:6px;border-radius:999px;background:rgba(255,255,255,0.16);overflow:hidden;margin-top:6px}
.route-timeline__progress-fill{display:block;height:100%;background:linear-gradient(90deg,var(--accent,#778da9),rgba(148,210,189,0.92));transition:width .3s ease}
.route-timeline__empty{text-align:center;padding:18px 0;font-size:.92rem;color:var(--muted,rgba(224,225,221,0.72))}
.route-chapter{padding:clamp(22px,2.5vw,30px);display:grid;gap:18px;border-radius:26px;border:1px solid rgba(119,141,169,0.28);background:linear-gradient(150deg,rgba(13,27,42,0.94),rgba(8,18,34,0.9));box-shadow:0 34px 68px rgba(0,0,0,0.55);scroll-margin-top:120px}
.route-chapter__header{display:flex;align-items:flex-start;justify-content:space-between;gap:18px;flex-wrap:wrap}
.route-chapter__titles{display:flex;align-items:flex-start;gap:14px}
.route-chapter__number{width:48px;height:48px;border-radius:16px;background:rgba(148,210,189,0.22);border:1px solid rgba(148,210,189,0.5);display:grid;place-items:center;font-weight:700;font-size:1rem;color:rgba(148,210,189,0.95)}
.route-chapter__title{margin:0;font-size:1.35rem;color:var(--text,#f0f4f8)}
.route-chapter__subtitle{margin:4px 0 0;font-size:.95rem;color:var(--muted,rgba(224,225,221,0.74));max-width:60ch}
.route-chapter__progress{min-width:220px}
.route-progress{display:grid;gap:8px}
.route-progress__bar{width:100%;height:8px;border-radius:999px;background:rgba(255,255,255,0.16);overflow:hidden}
.route-progress__fill{display:block;height:100%;background:linear-gradient(90deg,var(--accent,#778da9),rgba(148,210,189,0.92));transition:width .3s ease}
.route-progress__label{font-size:.85rem;color:var(--muted,rgba(224,225,221,0.72))}
.route-chapter__details{border-radius:22px;border:1px solid rgba(119,141,169,0.22);background:rgba(8,16,32,0.8);overflow:hidden}
.route-chapter__summary{display:flex;align-items:center;justify-content:space-between;gap:14px;padding:16px 20px;cursor:pointer;list-style:none}
.route-chapter__summary::-webkit-details-marker{display:none}
.route-chapter__summary-text{display:grid;gap:4px}
.route-chapter__summary-text span:first-child{font-size:.78rem;letter-spacing:.1em;text-transform:uppercase;color:rgba(224,225,221,0.64)}
.route-chapter__summary-meta{font-size:.95rem;color:var(--light,#e0e1dd)}
.route-chapter__summary-toggle{color:var(--muted,rgba(224,225,221,0.62));transition:transform .25s ease}
.route-chapter__details[open] .route-chapter__summary{background:rgba(8,16,32,0.85);border-bottom:1px solid rgba(119,141,169,0.24)}
.route-chapter__details[open] .route-chapter__summary-toggle{transform:rotate(180deg)}
.route-chapter__body{padding:20px;display:grid;gap:14px}
.route-chapter__footer{display:flex;flex-wrap:wrap;gap:12px;align-items:center;justify-content:space-between;padding:18px 20px;border-top:1px solid rgba(119,141,169,0.24);background:rgba(8,16,32,0.82)}
.route-chapter__footer-meta{display:flex;flex-direction:column;gap:4px;font-size:.85rem;color:var(--muted,rgba(224,225,221,0.72))}
.route-chapter__footer-actions{display:flex;flex-wrap:wrap;gap:10px;align-items:center;justify-content:flex-end}
.route-chapter__badge{display:inline-flex;align-items:center;gap:8px;padding:6px 14px;border-radius:999px;background:rgba(148,210,189,0.22);border:1px solid rgba(148,210,189,0.5);font-size:.85rem;font-weight:600;color:rgba(224,255,244,0.92)}
.route-steps-empty{margin:0;font-size:.92rem;color:var(--muted,rgba(224,225,221,0.72));text-align:center;padding:20px 0}

.route-page-header{display:flex;flex-direction:column;gap:12px;margin:16px 0 12px}
.route-page-header h2{margin:0}
.route-page-header__title{display:grid;gap:10px}
.route-page-lead{margin:0;font-size:.97rem;color:var(--muted,rgba(224,225,221,0.72));max-width:60ch;line-height:1.5}
@media (min-width:900px){
  .route-page-header{flex-direction:row;align-items:flex-start;justify-content:space-between}
  .route-page-header__title{max-width:720px}
}
.route-shell{display:grid;gap:28px}
.route-shell>*{min-width:0}
.route-grid{display:grid;gap:clamp(22px,2.2vw,28px)}
.route-grid--primary,.route-grid--secondary{grid-template-columns:1fr}
.route-grid--primary>.card,.route-grid--secondary>.card{height:auto}
.route-hero,.route-suggestions-card,.route-active-card,.route-recommendations-card,.route-library,.guide-catalog,.route-tonight-card{position:relative;overflow:hidden;padding:22px 24px 26px;background-image:linear-gradient(155deg,var(--route-card-overlay,rgba(14,32,52,0.9)),rgba(8,18,34,0.94)),var(--route-card-backdrop, url('../assets/images/palworld-full-map-2.webp'));background-size:cover;background-position:var(--route-card-position,center 48%);background-repeat:no-repeat;border:1px solid rgba(148,210,189,0.24);box-shadow:0 32px 64px rgba(4,14,28,0.58);backdrop-filter:blur(10px)}
.route-suggestions-card,.route-active-card,.route-recommendations-card,.route-library,.guide-catalog,.route-tonight-card{padding:clamp(20px,2.4vw,28px)}
.route-hero::before,.route-suggestions-card::before,.route-active-card::before,.route-recommendations-card::before,.route-library::before,.guide-catalog::before,.route-tonight-card::before{content:"";position:absolute;inset:-45% auto auto -30%;width:260px;height:260px;background:radial-gradient(circle at center,rgba(148,210,189,0.35),transparent 72%);opacity:.32;pointer-events:none;animation:routeGlow 22s linear infinite}
.route-hero::after,.route-suggestions-card::after,.route-active-card::after,.route-recommendations-card::after,.route-library::after,.guide-catalog::after,.route-tonight-card::after{content:"";position:absolute;inset:auto -30% -45% auto;width:220px;height:220px;background:radial-gradient(circle at center,rgba(119,141,169,0.28),transparent 70%);opacity:.28;pointer-events:none;animation:routeGlow 26s linear infinite reverse}
.route-hero>*,.route-suggestions-card>*,.route-active-card>*,.route-recommendations-card>*,.route-library>*,.guide-catalog>*,.route-tonight-card>*{position:relative;z-index:1}
.route-hero.route-context{display:block}
.route-hero__layout{display:flex;flex-direction:column;gap:24px}
@media (min-width:1024px){.route-hero__layout{display:grid;grid-template-columns:minmax(0,1.35fr) minmax(0,1fr);align-items:start;gap:28px}}
.route-hero__overview,.route-hero__controls{display:grid;gap:20px}
.route-hero__controls .route-context__controls{height:100%}
.route-context--collapsed .route-hero__controls{display:none}
.route-context--collapsed .route-overview__lead-text,.route-context--collapsed .route-overview__condensed,.route-context--collapsed .route-overview__body{display:none}
.route-suggestions__header h3,.route-recommendations__header h3,.route-active__title h3,.route-library__summary-text h3,.guide-catalog__header h3{margin:0;font-size:1.4rem;letter-spacing:.02em}
.route-suggestions__header p,.route-recommendations__intro,.route-active__intro,.route-library__summary-text p,.guide-catalog__header p{margin:0;color:rgba(224,225,221,0.75);line-height:1.55}
.route-suggestions-card--slim{display:grid;gap:18px}
.route-suggestions-card--slim .route-suggestions__header{display:flex;flex-wrap:wrap;align-items:flex-start;justify-content:space-between;gap:16px}
.route-suggestions__title{display:grid;gap:6px;min-width:0;flex:1 1 260px}
.route-tonight__header{display:flex;flex-direction:column;gap:18px}
.route-tonight__summary{display:grid;gap:12px;flex:1 1 auto}
.route-tonight__titles{display:grid;gap:6px}
.route-tonight__intro{margin:0;color:rgba(224,225,221,0.78);line-height:1.6}
.route-tonight__metrics{display:flex;flex-wrap:wrap;gap:12px;margin:0;padding:0;list-style:none}
.route-tonight__metric{display:grid;gap:4px;padding:10px 14px;border-radius:16px;background:rgba(8,16,32,0.68);border:1px solid rgba(148,210,189,0.42);box-shadow:0 18px 32px rgba(4,14,28,0.45)}
.route-tonight__metric-value{font-size:1.05rem;font-weight:700;color:var(--text,#f0f4f8)}
.route-tonight__metric-label{font-size:.72rem;text-transform:uppercase;letter-spacing:.08em;color:rgba(224,225,221,0.72)}
@media (min-width:768px){.route-tonight__header{flex-direction:row;align-items:flex-start}.route-tonight__summary{max-width:620px}}
.route-suggestions__toggle{appearance:none;border:1px solid rgba(255,255,255,0.18);background:rgba(8,16,32,0.55);color:var(--light,#e0e1dd);border-radius:999px;padding:6px 14px;font-size:.8rem;font-weight:600;letter-spacing:.04em;text-transform:uppercase;display:inline-flex;align-items:center;gap:6px;cursor:pointer;transition:background .2s ease,border-color .2s ease,color .2s ease}
.route-suggestions__toggle:hover,.route-suggestions__toggle:focus-visible{background:rgba(12,28,46,0.75);border-color:rgba(148,210,189,0.38);color:var(--text,#f0f4f8);outline:none}
.route-suggestions__toggle i{font-size:.75rem}
.route-suggestions-card--slim .route-suggestions__list{display:flex;gap:12px;overflow-x:auto;padding-bottom:6px;margin-right:-4px;scroll-snap-type:x proximity}
.route-suggestions-card--slim .route-suggestions__list .guide-card{flex:0 0 clamp(260px,24vw,360px);scroll-snap-align:start}
.route-suggestions-card--slim .route-suggestions__list::-webkit-scrollbar{height:6px}
.route-suggestions-card--slim .route-suggestions__list::-webkit-scrollbar-thumb{background:rgba(119,141,169,0.4);border-radius:999px}
.route-suggestions-card--slim .route-suggestions__list::-webkit-scrollbar-track{background:rgba(8,16,32,0.5)}
.route-suggestions-card--slim .route-suggestions__detail{border-radius:18px;overflow:hidden;max-height:420px}
.route-suggestions-card--collapsed .route-suggestions__detail{display:none}
.route-suggestions-card--collapsed .route-suggestions__list{padding-bottom:0}
.route-suggestions__list .guide-card,.route-recommendations__list .guide-card{background:linear-gradient(150deg,rgba(10,24,38,0.86),rgba(13,30,50,0.88));border:1px solid rgba(148,210,189,0.26);box-shadow:0 24px 44px rgba(4,14,28,0.55);backdrop-filter:blur(8px)}
.route-suggestions__list .guide-card:hover,.route-recommendations__list .guide-card:hover{border-color:rgba(148,210,189,0.5);box-shadow:0 28px 54px rgba(4,14,28,0.6)}
.route-suggestions__detail{border:1px solid rgba(148,210,189,0.28);box-shadow:0 28px 54px rgba(4,14,28,0.6)}
.route-active__actions{display:flex;flex-wrap:wrap;gap:12px}
.route-active__list{display:grid;gap:clamp(18px,2.2vw,26px);grid-template-columns:repeat(auto-fit,minmax(420px,1fr))}
.route-active__list>.route-card{height:100%}
.route-library__filter-btn{transition:transform .2s ease,box-shadow .2s ease}
.route-library__filter-btn:hover,.route-library__filter-btn:focus-visible{transform:translateY(-2px);box-shadow:0 12px 24px rgba(0,0,0,0.35)}
.route-library__match{transition:transform .2s ease,box-shadow .2s ease}
.route-library__match:hover:not([disabled]),.route-library__match:focus-visible:not([disabled]){transform:translateY(-2px);box-shadow:0 12px 24px rgba(0,0,0,0.35)}
.route-loading{display:grid;gap:14px;justify-items:center;text-align:center;padding:clamp(32px,4vw,40px);background:linear-gradient(160deg,rgba(10,24,38,0.85),rgba(8,18,34,0.9));border:1px solid rgba(148,210,189,0.28);border-radius:26px;box-shadow:0 30px 60px rgba(4,14,28,0.55)}
.route-loading__spinner{width:56px;height:56px;border-radius:50%;border:4px solid rgba(148,210,189,0.24);border-top-color:var(--accent,#778da9);animation:routeSpin .9s linear infinite}
.route-loading__label{margin:0;font-weight:700;font-size:1.1rem;letter-spacing:.02em}
.route-loading__hint{margin:0;font-size:.95rem;color:rgba(224,225,221,0.72)}
.route-error{display:grid;gap:14px;padding:clamp(28px,4vw,36px);text-align:center;background:linear-gradient(150deg,rgba(64,18,24,0.88),rgba(28,8,12,0.9));border:1px solid rgba(231,111,81,0.4);border-radius:26px;box-shadow:0 32px 64px rgba(64,18,24,0.45)}
.route-error h2{margin:0;font-size:1.35rem;letter-spacing:.03em}
.route-error p{margin:0;font-size:.98rem;color:rgba(255,224,214,0.86)}
.route-error__retry{align-self:center}
.route-card{display:grid;gap:22px}
.route-card__header{display:flex;justify-content:space-between;gap:22px;flex-wrap:wrap;align-items:flex-start}
.route-card__info{display:flex;align-items:flex-start;gap:18px;flex:1 1 360px;min-width:0}
.route-card__thumb{position:relative;flex:0 0 104px;width:104px;height:104px;border-radius:22px;overflow:hidden;background:rgba(8,16,32,0.86);box-shadow:0 22px 46px rgba(0,0,0,0.55)}
.route-card__thumb::before{content:"";position:absolute;inset:0;background-image:linear-gradient(155deg,var(--route-visual-overlay,rgba(12,24,40,0.78)),rgba(10,20,34,0.92)),var(--route-visual-image, url('../assets/images/palworld-full-map-2.webp'));background-size:cover;background-position:var(--route-visual-position,center);transition:transform .35s ease}
.route-card__thumb::after{content:"";position:absolute;inset:0;border-radius:inherit;box-shadow:inset 0 0 0 1px rgba(255,255,255,0.06)}
.route-card:hover .route-card__thumb::before{transform:scale(1.04)}
.route-card__title{display:grid;gap:8px;min-width:0}
.route-card__title h3{margin:0;font-size:1.35rem}
.route-card__label{display:inline-flex;align-items:center;gap:6px;width:max-content;padding:4px 12px;border-radius:999px;background:rgba(0,0,0,0.35);border:1px solid rgba(255,255,255,0.14);font-size:.78rem;letter-spacing:.1em;text-transform:uppercase;color:rgba(255,255,255,0.82)}
.route-card__why{margin:0;color:var(--muted,rgba(224,225,221,0.74));font-size:.97rem;line-height:1.45}
.route-card__meta{display:flex;flex-wrap:wrap;gap:8px;margin-top:4px}
.route-meta-chip{display:inline-flex;align-items:center;gap:6px;padding:6px 12px;border-radius:999px;font-size:.75rem;letter-spacing:.08em;text-transform:uppercase;background:rgba(119,141,169,0.2);border:1px solid rgba(119,141,169,0.42);color:var(--light,#e0e1dd);box-shadow:0 6px 12px rgba(0,0,0,0.25)}
.route-meta-chip--tag{background:rgba(91,146,255,0.22);border-color:rgba(91,146,255,0.42)}

@media (max-width: 900px){
  .route-timeline__list{gap:16px}
  .route-chapter{padding:24px 18px}
  .route-chapter__header{flex-direction:column;align-items:stretch}
  .route-chapter__progress{min-width:0}
  .route-chapter__footer{flex-direction:column;align-items:stretch}
  .route-chapter__footer-actions{justify-content:flex-start}
}

@media (max-width: 640px){
  .route-dashboard__header{flex-direction:column;align-items:flex-start}
  .route-dashboard__stats{grid-template-columns:1fr}
  .route-dashboard__actions{width:100%}
  .route-dashboard__actions .btn{flex:1 1 auto;width:100%}
  .step{grid-template-columns:1fr;gap:14px}
  .step input[type=checkbox]{margin:0;grid-row:auto;align-self:center}
  .step-content{gap:8px}
}

@media (prefers-reduced-motion: reduce){
  .route-timeline__item,
  .route-timeline__progress-fill,
  .route-progress__fill,
  .route-dashboard__progress-fill{transition:none}
  .step{transition:none}
}
.route-meta-chip--high{background:rgba(231,111,81,0.28);border-color:rgba(231,111,81,0.5)}
.route-meta-chip--medium{background:rgba(255,196,77,0.26);border-color:rgba(255,196,77,0.46)}
.route-meta-chip--low{background:rgba(105,228,166,0.26);border-color:rgba(105,228,166,0.5)}
.route-card__toolbar{display:flex;flex-wrap:wrap;gap:12px;justify-content:flex-end;align-items:flex-start;min-width:0}
.route-card__queue{background:rgba(0,0,0,0.38);border-color:rgba(255,255,255,0.18);color:var(--text,#f0f4f8)}
.route-card__queue:hover{background:rgba(0,0,0,0.48)}
.route-card__complete{display:inline-flex;align-items:center;gap:8px;font-weight:700;color:var(--success,#2a9d8f);background:rgba(42,157,143,0.18);border-radius:999px;padding:6px 14px}
.route-card__progress{padding:16px;border-radius:18px;background:rgba(8,16,32,0.72);border:1px solid rgba(119,141,169,0.26);box-shadow:inset 0 0 0 1px rgba(255,255,255,0.05)}
.route-card__details{background:rgba(8,16,32,0.78);border:1px solid rgba(119,141,169,0.3);border-radius:18px;padding:18px;box-shadow:inset 0 0 0 1px rgba(255,255,255,0.05);display:grid;gap:12px}
.route-card__toggle{width:100%;justify-content:center;margin-bottom:6px}
.route-card__actions{display:flex;gap:10px;flex-wrap:wrap;align-items:center;margin-top:12px}
.route-card__actions .btn{flex:1 1 200px}
.route-visual__marker{--route-marker-size:22px;position:absolute;top:50%;left:50%;width:var(--route-marker-size);height:var(--route-marker-size);border-radius:50%;background:radial-gradient(circle at center,var(--route-visual-accent,#9bd4ff)0%,var(--route-visual-accent,#9bd4ff)55%,rgba(0,0,0,0)70%);box-shadow:0 0 0 4px rgba(0,0,0,0.4),0 10px 20px rgba(0,0,0,0.45);transform:translate(-50%,-50%);pointer-events:none}
.route-card__thumb .route-visual__marker{--route-marker-size:20px}

.step-extra{margin-top:8px;display:grid;gap:10px;font-size:.9rem;color:rgba(224,225,221,0.85)}
.step-extra__text{margin:0}
.step-extra__section{background:rgba(0,0,0,0.2);border:1px solid rgba(255,255,255,0.08);border-radius:12px;padding:10px 12px;display:grid;gap:6px}
.step-extra__section h5{margin:0;font-size:.78rem;letter-spacing:.08em;text-transform:uppercase;color:rgba(224,225,221,0.68)}
.step-extra__list{margin:0;padding-left:18px;display:grid;gap:4px}
.step-extra__xp{margin:0;font-size:.85rem;color:rgba(224,225,221,0.7)}
.step-mode{display:grid;gap:8px}
.step-mode__entry h6{margin:0;font-size:.78rem;letter-spacing:.08em;text-transform:uppercase;color:rgba(224,225,221,0.68)}
.step-mode__entry p{margin:0}

.route-context{display:grid;gap:18px}
.route-context__controls{display:grid;gap:18px}
.route-context__grid{display:grid;gap:18px;grid-template-columns:repeat(auto-fit,minmax(240px,1fr))}
.route-context__field{display:flex;flex-direction:column;gap:8px}
.route-context__label{font-size:.78rem;letter-spacing:.1em;text-transform:uppercase;color:rgba(224,225,221,0.68)}
.route-context__input{width:100%;min-height:48px;padding:10px 14px;border-radius:14px;background:rgba(13,27,42,0.72);border:1px solid rgba(119,141,169,0.32);color:var(--text,#f0f4f8);font-size:.95rem;box-shadow:0 18px 32px rgba(0,0,0,0.45);transition:border-color .2s ease,box-shadow .2s ease,background .2s ease}
.route-context__input::placeholder{color:rgba(224,225,221,0.6)}
.route-context__input:focus-visible{outline:none;border-color:var(--accent,#778da9);box-shadow:0 0 0 2px rgba(119,141,169,0.35),0 18px 36px rgba(0,0,0,0.5)}
.route-context__level{display:flex;align-items:center;gap:12px}
.route-context__level input[type=range]{flex:1;accent-color:var(--accent,#778da9)}
.route-context__level input[type=number]{width:80px;background:rgba(13,27,42,0.6);border:1px solid rgba(119,141,169,0.35);border-radius:10px;color:var(--text,#f0f4f8);padding:6px 10px;font-size:.95rem}
.route-context__toggles{display:flex;flex-wrap:wrap;gap:8px}
.route-context__toggle{border:1px solid rgba(119,141,169,0.35);background:rgba(119,141,169,0.18);color:var(--text,#f0f4f8);padding:8px 14px;border-radius:999px;font-weight:600;cursor:pointer;transition:background .2s ease,border-color .2s ease}
.route-context__toggle--active{background:rgba(42,157,143,0.25);border-color:rgba(42,157,143,0.6)}
.route-context__goals{position:relative}
.route-goal-drawer{position:relative;display:grid;gap:10px}
.route-goal-drawer__toggle{position:relative;display:flex;flex-direction:column;align-items:flex-start;gap:10px;width:100%;padding:16px 18px;border-radius:18px;background:linear-gradient(135deg,rgba(42,157,143,0.22),rgba(17,36,60,0.92));border:1px solid rgba(119,141,169,0.45);color:var(--text,#f0f4f8);cursor:pointer;box-shadow:0 0 24px rgba(42,157,143,0.35);transition:box-shadow .25s ease,transform .25s ease,border-color .25s ease}
.route-goal-drawer__toggle::before{content:"";position:absolute;inset:-1px;border-radius:inherit;background:radial-gradient(circle at top left,rgba(148,210,189,0.45),rgba(148,210,189,0)60%);opacity:.7;pointer-events:none;transition:opacity .3s ease}
.route-goal-drawer__toggle:hover,.route-goal-drawer__toggle:focus-visible{transform:translateY(-1px);box-shadow:0 0 28px rgba(119,141,169,0.5);border-color:rgba(148,210,189,0.7);outline:none}
.route-goal-drawer__toggle:hover::before,.route-goal-drawer__toggle:focus-visible::before{opacity:1}
.route-goal-drawer__title{font-size:.82rem;letter-spacing:.08em;text-transform:uppercase;color:rgba(224,225,221,0.72)}
.route-goal-drawer__summary{position:relative;display:flex;flex-wrap:wrap;align-items:center;gap:8px;width:100%;min-height:42px;padding:10px 12px;border-radius:14px;background:linear-gradient(135deg,rgba(11,26,44,0.92),rgba(12,32,54,0.88));box-shadow:0 0 18px rgba(42,157,143,0.35);border:1px solid rgba(119,141,169,0.35)}
.route-goal-summary__placeholder{font-size:1rem;font-weight:600;color:rgba(224,225,221,0.78)}
.route-goal-summary__chip{display:inline-flex;align-items:center;gap:6px;padding:6px 12px;border-radius:999px;background:rgba(42,157,143,0.18);border:1px solid rgba(148,210,189,0.65);box-shadow:0 6px 16px rgba(0,0,0,0.35);font-size:.85rem;font-weight:600;color:rgba(224,225,221,0.92);letter-spacing:.03em;text-transform:capitalize}
.route-goal-summary__chip--more{background:rgba(148,210,189,0.22);border-color:rgba(148,210,189,0.85);color:rgba(255,255,255,0.92)}
.route-goal-drawer__panel{position:relative;border-radius:20px;padding:18px;background:linear-gradient(150deg,rgba(13,27,42,0.95),rgba(8,18,34,0.88));border:1px solid rgba(119,141,169,0.4);box-shadow:0 28px 52px rgba(0,0,0,0.55),0 0 36px rgba(42,157,143,0.4);display:grid;gap:14px;max-height:320px;overflow:auto}
.route-goal-drawer__panel::before{content:"";position:absolute;inset:0;border-radius:inherit;background:radial-gradient(circle at top right,rgba(148,210,189,0.28),rgba(148,210,189,0)65%);pointer-events:none}
.route-goal-drawer__panel[hidden]{display:none}
.route-goal-drawer__panel::-webkit-scrollbar{width:8px}
.route-goal-drawer__panel::-webkit-scrollbar-thumb{background:rgba(119,141,169,0.4);border-radius:999px}
.route-goal-drawer__list{display:grid;gap:10px}
@media (min-width:640px){.route-goal-drawer__list{grid-template-columns:repeat(auto-fit,minmax(240px,1fr))}}
.route-goal-option{display:grid;grid-template-columns:auto auto 1fr;align-items:center;gap:12px;padding:12px 16px;border-radius:14px;border:1px solid rgba(119,141,169,0.32);background:rgba(8,16,32,0.8);box-shadow:inset 0 0 0 1px rgba(255,255,255,0.04);transition:transform .2s ease,border-color .2s ease,box-shadow .2s ease}
.route-goal-option input[type=checkbox]{appearance:none;width:24px;height:24px;border-radius:8px;border:2px solid rgba(119,141,169,0.45);background:rgba(6,14,26,0.9);display:grid;place-items:center;transition:border-color .2s ease,background .2s ease,box-shadow .2s ease;cursor:pointer}
.route-goal-option input[type=checkbox]::after{content:"";width:12px;height:12px;border-radius:4px;background:transparent;transform:scale(0);transition:transform .2s ease,background .2s ease}
.route-goal-option input[type=checkbox]:checked{border-color:rgba(148,210,189,0.85);background:rgba(148,210,189,0.18);box-shadow:0 0 0 3px rgba(148,210,189,0.22)}
.route-goal-option input[type=checkbox]:checked::after{background:rgba(148,210,189,0.95);transform:scale(1)}
.route-goal-option input[type=checkbox]:focus-visible{outline:2px solid var(--accent,#778da9);outline-offset:2px}
.route-goal-option__icon{display:grid;place-items:center;width:42px;height:42px;border-radius:14px;background:rgba(119,141,169,0.2);color:var(--accent,#778da9);font-size:1.1rem}
.route-goal-option__label{font-size:.95rem;font-weight:600;color:rgba(224,225,221,0.92)}
.route-goal-option--active{border-color:rgba(148,210,189,0.65);box-shadow:0 16px 32px rgba(148,210,189,0.2);transform:translateY(-1px)}
.route-goal-drawer__footer{display:flex;flex-wrap:wrap;align-items:center;justify-content:space-between;gap:10px}
.route-goal-drawer__bulk{display:flex;flex-wrap:wrap;gap:8px}
.route-goal-drawer__bulk-btn{min-height:36px;padding:6px 14px;font-size:.78rem;letter-spacing:.06em;text-transform:uppercase;background:rgba(0,0,0,0.3);border:1px solid rgba(119,141,169,0.4);color:var(--text,#f0f4f8);border-radius:999px;transition:background .2s ease,border-color .2s ease,color .2s ease}
.route-goal-drawer__bulk-btn:hover,.route-goal-drawer__bulk-btn:focus-visible{background:rgba(0,0,0,0.45);border-color:rgba(148,210,189,0.55);color:var(--text,#f0f4f8);outline:none}
.route-goal-drawer__close{background:rgba(0,0,0,0.35);border-color:rgba(119,141,169,0.4);color:var(--text,#f0f4f8)}
.route-goal-drawer__close:hover{background:rgba(0,0,0,0.45)}
.route-goal-drawer--open .route-goal-drawer__toggle{box-shadow:0 0 28px rgba(148,210,189,0.4);border-color:rgba(148,210,189,0.65)}
.route-context__resources{display:grid;gap:10px}
.route-context__resource-add{display:flex;flex-wrap:wrap;gap:8px;align-items:center}
.route-context__resource-add select,.route-context__resource-add input{background:rgba(13,27,42,0.6);border:1px solid rgba(119,141,169,0.35);border-radius:10px;color:var(--text,#f0f4f8);padding:8px 12px;font-size:.95rem;min-width:160px;transition:border-color .2s ease,box-shadow .2s ease}
.route-context__resource-add select{flex:2 1 220px}
.route-context__resource-add input{flex:1 1 140px}
.route-context__resource-add select:focus-visible,.route-context__resource-add input:focus-visible{outline:none;border-color:var(--accent,#778da9);box-shadow:0 0 0 2px rgba(119,141,169,0.35)}
.route-context__resource-add-btn{flex:0 0 auto}
@media (max-width:600px){
  .route-context__resource-add{flex-direction:column;align-items:stretch}
  .route-context__resource-add select,.route-context__resource-add input{min-width:0;width:100%}
  .route-context__resource-add-btn{width:100%}
}
.route-context__resource-list{display:flex;flex-wrap:wrap;gap:8px}
.route-resource-chip{display:inline-flex;align-items:center;gap:6px;padding:8px 12px;border-radius:999px;background:rgba(119,141,169,0.2);border:1px solid rgba(119,141,169,0.35);font-size:.85rem;font-weight:600;cursor:pointer}
.route-resource-chip__remove{font-weight:700;font-size:1rem}
.route-resource-chip:hover{background:rgba(119,141,169,0.32)}
.route-context__empty{margin:0;font-size:.9rem;color:rgba(224,225,221,0.68)}
.route-library{display:grid}
.route-library__details{border-radius:22px;overflow:hidden;background:linear-gradient(155deg,rgba(8,18,34,0.82),rgba(6,14,26,0.9));border:1px solid rgba(148,210,189,0.26);box-shadow:0 26px 52px rgba(4,14,28,0.5)}
.route-library__summary{display:flex;align-items:center;justify-content:space-between;gap:18px;padding:18px 22px;cursor:pointer;list-style:none;background:rgba(8,18,34,0.72);transition:background .25s ease,box-shadow .25s ease}
.route-library__summary:hover,.route-library__summary:focus-visible{background:rgba(12,26,44,0.82);box-shadow:inset 0 0 0 1px rgba(148,210,189,0.25);outline:none}
.route-library__summary::-webkit-details-marker{display:none}
.route-library__summary-text{display:grid;gap:6px}
.route-library__summary-text h3{margin:0;font-size:1.3rem}
.route-library__summary-text p{margin:0;font-size:.95rem;color:rgba(224,225,221,0.75)}
.route-library__count{display:inline-flex;align-items:center;gap:8px;padding:6px 14px;border-radius:999px;background:rgba(0,0,0,0.4);font-size:.85rem;font-weight:600;color:rgba(224,225,221,0.85)}
.route-library__details[open] .route-library__summary{border-bottom:1px solid rgba(255,255,255,0.08);background:rgba(12,24,40,0.78)}
.route-library__body{display:grid;gap:18px;padding:22px;background:rgba(6,14,26,0.92)}
.route-library__filters{display:flex;flex-wrap:wrap;gap:12px;align-items:center;justify-content:space-between}
.route-library__filter-group{display:flex;flex-wrap:wrap;gap:8px}
.route-library__filter-btn,.route-library__match{display:inline-flex;align-items:center;gap:6px}
.route-library__filter-btn{border:1px solid rgba(119,141,169,0.35);background:rgba(8,16,32,0.65);color:var(--text,#f0f4f8);padding:8px 14px;border-radius:999px;font-size:.85rem;font-weight:600;cursor:pointer;transition:background .2s ease,border-color .2s ease}
.route-library__filter-btn--active{background:rgba(42,157,143,0.22);border-color:rgba(42,157,143,0.65)}
.route-library__match{border:1px solid rgba(119,141,169,0.35);background:rgba(12,24,40,0.68);color:var(--text,#f0f4f8);padding:8px 16px;border-radius:999px;font-size:.85rem;font-weight:600;cursor:pointer;transition:background .2s ease,border-color .2s ease,opacity .2s ease}
.route-library__match:disabled{opacity:.5;cursor:not-allowed}
.route-library__match--active{background:rgba(42,157,143,0.22);border-color:rgba(42,157,143,0.65)}
.route-library__search{display:flex;align-items:center;gap:12px;padding:0 16px;background:rgba(10,22,40,0.82);border:1px solid rgba(119,141,169,0.28);border-radius:16px}
.route-library__search input{flex:1;background:transparent;border:none;color:var(--text,#f0f4f8);font-size:1rem;padding:12px 0}
.route-library__search input:focus-visible{outline:none}
.route-library__search-icon{color:rgba(224,225,221,0.65);font-size:1rem}
.route-library__list{display:grid;gap:16px;max-height:420px;overflow:auto;padding-right:4px}
.route-library__list::-webkit-scrollbar{width:8px}
.route-library__list::-webkit-scrollbar-thumb{background:rgba(119,141,169,0.35);border-radius:999px}
.route-library__empty{margin:0;font-size:.95rem;color:var(--muted,rgba(224,225,221,0.72));text-align:center;padding:18px 0}
.route-library__hint,.guide-catalog__hint{margin:0;font-size:.85rem;color:rgba(224,225,221,0.65);text-align:center;padding:8px 0 0}
.route-library-card{display:grid;grid-template-columns:auto 1fr auto;align-items:center;gap:18px;padding:16px;border-radius:18px;background:rgba(12,24,40,0.74);border:1px solid rgba(119,141,169,0.26);box-shadow:0 18px 36px rgba(0,0,0,0.45);transition:transform .2s ease,border-color .2s ease,box-shadow .2s ease}
.route-library-card:hover{transform:translateY(-3px);border-color:rgba(255,255,255,0.24);box-shadow:0 24px 42px rgba(0,0,0,0.5)}
.route-library-card__media{position:relative;width:88px;height:88px;border-radius:20px;overflow:hidden;flex:0 0 auto;background:rgba(8,16,32,0.86);box-shadow:0 18px 34px rgba(0,0,0,0.46)}
.route-library-card__media::before{content:"";position:absolute;inset:0;background-image:linear-gradient(150deg,var(--route-visual-overlay,rgba(12,24,40,0.8)),rgba(10,20,34,0.9)),var(--route-visual-image, url('../assets/images/palworld-full-map-2.webp'));background-size:cover;background-position:center}
.route-library-card__media .route-visual__marker{--route-marker-size:16px}
.route-library-card__body{display:grid;gap:6px;min-width:0}
.route-library-card__body h4{margin:0;font-size:1.05rem}
.route-library-card__meta{margin:0;font-size:.85rem;color:rgba(224,225,221,0.75)}
.route-library-card__tags{display:flex;flex-wrap:wrap;gap:6px}
.route-library-card__tag{background:rgba(119,141,169,0.2);border-color:rgba(119,141,169,0.38);font-size:.75rem}
.route-library-card__actions{display:flex;flex-direction:column;gap:10px;align-items:flex-end}
.route-library-card__highlights{display:flex;flex-wrap:wrap;gap:8px;margin-top:8px}
.route-library-card__status{font-size:.85rem;font-weight:600;color:var(--success,#2a9d8f);background:rgba(42,157,143,0.18);padding:4px 12px;border-radius:999px}
.route-library-card__activate{background:rgba(0,0,0,0.38);border-color:rgba(255,255,255,0.18);color:var(--text,#f0f4f8)}
.route-library-card__activate:hover{background:rgba(0,0,0,0.48)}
.route-library-card--complete{border-color:rgba(42,157,143,0.42)}
.route-library-card--complete .route-library-card__media::after{content:"";position:absolute;inset:0;border-radius:inherit;box-shadow:inset 0 0 0 2px rgba(42,157,143,0.45)}
.route-library-card--context{border-color:rgba(119,141,169,0.5);box-shadow:0 20px 40px rgba(119,141,169,0.25)}

.guide-catalog{display:grid;gap:20px}
.guide-catalog__header{display:flex;flex-direction:column;gap:6px}
.guide-catalog__header h3{margin:0;font-size:1.3rem}
.guide-catalog__header p{margin:0;font-size:.95rem;color:var(--muted,rgba(224,225,221,0.72))}
.guide-catalog__count{font-size:.85rem;font-weight:600;color:rgba(224,225,221,0.82)}
.guide-catalog__controls{display:grid;gap:16px}
@media (min-width:720px){.guide-catalog__controls{grid-template-columns:260px 1fr;align-items:start}}
.guide-catalog__search{display:flex;align-items:center;gap:10px;padding:0 14px;background:rgba(10,22,40,0.82);border:1px solid rgba(119,141,169,0.28);border-radius:16px}
.guide-catalog__search input{flex:1;background:transparent;border:none;color:var(--text,#f0f4f8);font-size:1rem;padding:12px 0}
.guide-catalog__search input:focus-visible{outline:none}
.guide-catalog__filters{display:flex;flex-wrap:wrap;gap:12px}
.guide-catalog__filters label{display:flex;flex-direction:column;gap:6px;font-size:.8rem;letter-spacing:.06em;text-transform:uppercase;color:rgba(224,225,221,0.65)}
.guide-catalog__filters select{min-width:180px;background:rgba(13,27,42,0.7);border:1px solid rgba(119,141,169,0.35);border-radius:12px;color:var(--text,#f0f4f8);padding:10px 12px;font-size:.95rem}
.guide-catalog__filters select:focus-visible{outline:none;border-color:var(--accent,#778da9);box-shadow:0 0 0 2px rgba(119,141,169,0.35)}
.guide-catalog__list{display:grid;gap:16px;padding-right:0;margin-top:12px}
@media (min-width:900px){.guide-catalog__list{grid-template-columns:repeat(auto-fit,minmax(280px,1fr))}}
.guide-catalog__empty{margin:0;font-size:.95rem;color:var(--muted,rgba(224,225,221,0.72));text-align:center;padding:18px 0}
.guide-catalog__item{display:grid;gap:14px}
.guide-catalog__item-header{display:flex;flex-wrap:wrap;gap:10px;align-items:center;justify-content:space-between}
.guide-catalog__title{margin:0;font-size:1.1rem}
.guide-catalog__badge{display:inline-flex;align-items:center;gap:6px;padding:4px 12px;border-radius:999px;background:rgba(148,210,189,0.22);border:1px solid rgba(148,210,189,0.55);font-size:.75rem;font-weight:600;color:rgba(224,225,221,0.9);text-transform:uppercase;letter-spacing:.08em}
.guide-catalog__group{margin:0;font-size:.85rem;color:rgba(224,225,221,0.7)}
.guide-catalog__trigger{margin:0;font-size:.9rem;color:rgba(224,225,221,0.82)}
.guide-catalog__keywords{display:flex;flex-wrap:wrap;gap:6px;margin:0}
.guide-catalog__keyword{padding:4px 10px;border-radius:999px;background:rgba(119,141,169,0.18);border:1px solid rgba(119,141,169,0.32);font-size:.75rem;font-weight:600;color:rgba(224,225,221,0.85)}
.guide-catalog__steps{margin:0;padding-left:20px;display:grid;gap:6px;font-size:.92rem;color:rgba(224,225,221,0.85)}
.route-suggestions__list{display:grid;gap:14px}
@media (min-width:720px){.route-suggestions__list{grid-template-columns:repeat(auto-fit,minmax(280px,1fr))}}
.route-suggestions-card{grid-template-areas:"header" "list" "detail"}
.route-suggestions__header{grid-area:header}
.route-suggestions__list{grid-area:list}
.route-suggestions__detail{grid-area:detail}
.route-suggestions__detail:not([data-route-id]){display:none}
.route-suggestions__empty,.route-suggestions__placeholder{margin:0;color:var(--muted,rgba(224,225,221,0.72));font-size:.95rem;text-align:center;padding:12px}
.route-suggestion-card{position:relative;display:grid;gap:12px;align-items:flex-start;padding:20px;border-radius:22px;color:var(--text,#f0f4f8);cursor:pointer;transition:transform .25s ease,box-shadow .25s ease,border-color .25s ease;overflow:hidden;background-image:linear-gradient(160deg,var(--route-suggestion-overlay,var(--guide-card-overlay,rgba(12,24,40,0.78))),rgba(12,24,40,0.92)),var(--route-suggestion-image, var(--guide-card-image, url('../assets/images/palworld-full-map-2.webp')));background-size:cover;background-position:var(--route-suggestion-position,var(--guide-card-position,center 40%))}
.route-suggestion-card::before{content:"";position:absolute;z-index:0;width:var(--route-suggestion-marker-size,26px);height:var(--route-suggestion-marker-size,26px);border-radius:50%;top:var(--route-suggestion-marker-top,50%);left:var(--route-suggestion-marker-left,50%);transform:translate(-50%,-50%);background:radial-gradient(circle at center,var(--route-suggestion-accent,#9bd4ff)0%,var(--route-suggestion-accent,#9bd4ff)55%,rgba(0,0,0,0)70%);opacity:var(--route-suggestion-marker-opacity,0);box-shadow:0 0 0 5px rgba(0,0,0,0.4),0 16px 30px rgba(0,0,0,0.45);pointer-events:none;transition:opacity .2s ease,transform .2s ease}
.route-suggestion-card::after{content:"";position:absolute;inset:0;background:linear-gradient(180deg,rgba(0,0,0,0.05),rgba(0,0,0,0.4));pointer-events:none}
.route-suggestion-card__body{position:relative;z-index:1;display:grid;gap:12px}
.route-suggestion-card__top{display:flex;align-items:flex-start;gap:12px}
.route-suggestion-card__icon{flex:0 0 auto;width:44px;height:44px;border-radius:14px;background:rgba(0,0,0,0.32);display:grid;place-items:center;font-size:1.2rem;color:var(--route-suggestion-accent,var(--guide-card-accent,#9bd4ff));box-shadow:0 10px 20px rgba(0,0,0,0.4)}
.route-suggestion-card__text{display:flex;flex-direction:column;gap:4px}
.route-suggestion-card__title{margin:0;font-size:1.05rem;line-height:1.2}
.route-suggestion-card__meta{margin:0;font-size:.85rem;color:rgba(224,225,221,0.78)}
.route-suggestion-card__status{display:inline-flex;align-items:center;gap:6px;margin-top:4px;padding:4px 10px;border-radius:999px;background:rgba(0,0,0,0.35);border:1px solid rgba(255,255,255,0.18);font-size:.78rem;font-weight:600;color:rgba(255,255,255,0.9);letter-spacing:.06em;text-transform:uppercase}
.route-suggestion-card__score{margin-left:auto;font-weight:700;font-size:1.1rem;color:var(--route-suggestion-accent,var(--guide-card-accent,#9bd4ff))}
.route-suggestion-card__progress{display:flex;align-items:center;gap:10px}
.route-suggestion-card__progress-bar{flex:1;height:6px;border-radius:999px;background:rgba(255,255,255,0.16);overflow:hidden}
.route-suggestion-card__progress-bar span{display:block;height:100%;width:0;background:linear-gradient(90deg,var(--route-suggestion-accent,var(--guide-card-accent,#9bd4ff)),rgba(255,255,255,0.85));transition:width .35s ease}
.route-suggestion-card__progress-label{font-size:.85rem;color:rgba(224,225,221,0.86)}
.route-suggestion-card__reason{margin:0;font-size:.85rem;color:rgba(224,225,221,0.88)}
.route-suggestion-card:hover{transform:translateY(-4px);border-color:rgba(255,255,255,0.35)}
.route-suggestion-card--active{border-color:var(--route-suggestion-accent,var(--guide-card-accent,#9bd4ff));box-shadow:0 28px 52px rgba(0,0,0,0.52);transform:translateY(-4px)}
.route-suggestions__detail{position:relative;display:grid;gap:0;border-radius:24px;background-image:linear-gradient(160deg,var(--route-suggestion-overlay,rgba(12,24,40,0.72)),rgba(8,16,32,0.9)),var(--route-suggestion-image, var(--guide-card-image, url('../assets/images/palworld-full-map-2.webp')));background-size:cover;background-position:var(--route-suggestion-position,center 42%);border:1px solid rgba(119,141,169,0.28);overflow:hidden;box-shadow:0 26px 52px rgba(0,0,0,0.5)}
.route-suggestion-detail__hero{position:relative;display:grid;gap:14px;padding:26px;background-image:linear-gradient(160deg,var(--route-suggestion-overlay,rgba(8,16,32,0.85)),rgba(8,16,32,0.92)),var(--route-suggestion-image, url('../assets/images/palworld-full-map-2.webp'));background-size:cover;background-position:var(--route-suggestion-position,center);overflow:hidden}
.route-suggestion-detail__hero::before{content:"";position:absolute;z-index:0;width:var(--route-suggestion-marker-size,30px);height:var(--route-suggestion-marker-size,30px);border-radius:50%;top:var(--route-suggestion-marker-top,50%);left:var(--route-suggestion-marker-left,50%);transform:translate(-50%,-50%);opacity:var(--route-suggestion-marker-opacity,0);background:radial-gradient(circle at center,var(--route-suggestion-accent,#9bd4ff)0%,var(--route-suggestion-accent,#9bd4ff)55%,rgba(0,0,0,0)70%);box-shadow:0 0 0 6px rgba(0,0,0,0.45),0 18px 34px rgba(0,0,0,0.5);pointer-events:none;transition:opacity .2s ease,transform .2s ease}
.route-suggestion-detail__hero>*{position:relative;z-index:1}
.route-suggestion-detail__badges{display:flex;flex-wrap:wrap;gap:10px}
.route-suggestion-detail__badge{display:inline-flex;align-items:center;justify-content:flex-start;gap:6px;padding:6px 14px;border-radius:999px;background:rgba(0,0,0,0.38);border:1px solid rgba(255,255,255,0.24);font-size:.78rem;letter-spacing:.08em;text-transform:uppercase;color:rgba(255,255,255,0.85)}
.route-suggestion-detail__badge--accent{background:rgba(0,0,0,0.45);border-color:var(--route-suggestion-accent,#9bd4ff);color:var(--route-suggestion-accent,#9bd4ff)}
.route-suggestion-detail__title{margin:0;font-size:1.4rem}
.route-suggestion-detail__meta{margin:0;font-size:.92rem;color:rgba(224,225,221,0.84)}
.route-suggestion-detail__progress{display:flex;flex-wrap:wrap;align-items:center;gap:10px}
.route-suggestion-detail__progress-bar{flex:1;min-width:140px;height:8px;border-radius:999px;background:rgba(255,255,255,0.2);overflow:hidden}
.route-suggestion-detail__progress-bar span{display:block;height:100%;width:0;background:linear-gradient(90deg,var(--route-suggestion-accent,#9bd4ff),rgba(255,255,255,0.85))}
.route-suggestion-detail__progress-label{font-size:.9rem;font-weight:600;color:rgba(255,255,255,0.9)}
.route-suggestion-detail__reasons{margin:0;padding-left:20px;display:grid;gap:6px;font-size:.9rem;color:rgba(255,255,255,0.88)}
.route-suggestion-detail__reason{margin:0;font-size:.9rem;color:rgba(255,255,255,0.88)}
.route-suggestion-detail__actions{display:flex;flex-wrap:wrap;gap:10px;align-items:center}
.route-suggestion-detail__body{padding:22px;background:rgba(10,20,34,0.9);display:grid;gap:18px}

.route-overview{display:grid;gap:20px;position:relative}
.route-overview__lead{display:flex;flex-wrap:wrap;align-items:flex-start;justify-content:space-between;gap:12px}
.route-overview__lead-text{display:grid;gap:8px;min-width:0;flex:1 1 220px}
.route-overview__badge{display:inline-flex;align-items:center;gap:6px;width:max-content;padding:4px 12px;border-radius:999px;background:rgba(0,0,0,0.35);border:1px solid rgba(255,255,255,0.18);font-size:.75rem;font-weight:700;letter-spacing:.08em;text-transform:uppercase;color:rgba(255,255,255,0.82)}
.route-overview__lead-copy{margin:0;font-size:.95rem;color:var(--muted,rgba(224,225,221,0.72));line-height:1.5}
.route-overview__toggle{appearance:none;position:relative;isolation:isolate;border:1px solid rgba(148,210,189,0.45);background:linear-gradient(135deg,rgba(18,40,68,0.86),rgba(10,24,44,0.92));color:var(--light,#e0e1dd);border-radius:999px;padding:8px 18px;font-size:.82rem;font-weight:650;letter-spacing:.05em;text-transform:uppercase;display:inline-flex;align-items:center;gap:8px;cursor:pointer;transition:transform .2s ease,box-shadow .3s ease,border-color .3s ease,color .2s ease;box-shadow:0 0 0 rgba(148,210,189,0.35)}
.route-overview__toggle::after{content:"";position:absolute;inset:-4px;border-radius:inherit;background:radial-gradient(circle at center,rgba(148,210,189,0.48),rgba(148,210,189,0) 70%);opacity:.55;filter:blur(9px);z-index:-1;transform:scale(.98);animation:routeTogglePulse 3.4s ease-in-out infinite}
.route-overview__toggle:hover,.route-overview__toggle:focus-visible{transform:translateY(-1px);border-color:rgba(224,255,244,0.65);box-shadow:0 0 18px rgba(148,210,189,0.45);color:var(--text,#f0f4f8);outline:none}
.route-overview__toggle i{font-size:.75rem}
.route-overview__condensed{display:none;gap:8px;padding:14px 18px;border-radius:16px;background:rgba(8,16,32,0.72);border:1px solid rgba(255,255,255,0.08);box-shadow:inset 0 0 0 1px rgba(255,255,255,0.04)}
.route-overview__condensed-row{display:flex;align-items:center;justify-content:space-between;gap:12px}
.route-overview__condensed-label{font-size:.75rem;letter-spacing:.08em;text-transform:uppercase;color:rgba(224,225,221,0.68)}
.route-overview__condensed-value{font-size:.95rem;font-weight:700;color:var(--text,#f0f4f8)}
.route-overview__condensed-next{margin:0;font-size:.9rem;color:var(--light,#e0e1dd);line-height:1.45}
.route-overview__condensed-history{margin:0;font-size:.85rem;color:var(--muted,rgba(224,225,221,0.7));display:flex;align-items:center;gap:8px;flex-wrap:wrap}
.route-overview__body{display:grid;gap:20px}
.route-overview__stats{display:grid;gap:12px;grid-template-columns:repeat(auto-fit,minmax(220px,1fr))}
.route-overview__stat{background:rgba(8,16,32,0.68);border:1px solid rgba(255,255,255,0.08);border-radius:16px;padding:16px;display:grid;gap:10px;box-shadow:0 12px 32px rgba(0,0,0,0.35)}
.route-overview__stat-header{display:flex;align-items:center;gap:12px}
.route-overview__stat-icon{width:42px;height:42px;border-radius:12px;background:rgba(119,141,169,0.18);display:grid;place-items:center;font-size:1.2rem;color:var(--accent,#778da9)}
.route-overview__stat-title{margin:0;font-size:.85rem;letter-spacing:.08em;text-transform:uppercase;color:rgba(224,225,221,0.72)}
.route-overview__stat-value{margin:2px 0 0;font-size:1.25rem;font-weight:700;color:var(--text,#f0f4f8)}
.route-overview__meter{position:relative;width:100%;height:8px;border-radius:999px;background:rgba(255,255,255,0.12);overflow:hidden}
.route-overview__meter .fill{position:absolute;inset:0;height:100%;width:0;background:linear-gradient(90deg,var(--accent,#778da9),rgba(42,157,143,0.85));transition:width .3s ease}
.route-overview__stat-sub{margin:0;font-size:.85rem;color:var(--muted,rgba(224,225,221,0.7))}
.route-overview__next{margin:0;font-size:.95rem;color:var(--light,#e0e1dd);line-height:1.5}
.route-overview__next strong{color:var(--accent,#778da9)}
.route-overview__controls{display:flex;flex-direction:column;gap:12px;padding:18px;border-radius:16px;background:rgba(8,16,32,0.7);border:1px solid rgba(119,141,169,0.24);box-shadow:inset 0 0 0 1px rgba(255,255,255,0.04)}
@media (min-width:768px){.route-overview__controls{flex-direction:row;align-items:center;justify-content:space-between}}
.route-overview__controls--compact .route-overview__next{max-width:60ch}
.route-overview__history-block{display:grid;gap:4px}
@media (min-width:768px){.route-overview__history-block{max-width:320px}}
.route-overview__history-label{font-size:.78rem;letter-spacing:.08em;text-transform:uppercase;color:rgba(224,225,221,0.65)}
.route-overview__history{margin:0;font-size:.95rem;color:var(--light,#e0e1dd)}
.route-overview--collapsed .route-overview__body{display:none}
.route-overview--collapsed .route-overview__condensed{display:grid}
.route-filters{display:flex;flex-direction:column;gap:8px}
.route-filters__header{display:flex;align-items:center;gap:12px;flex-wrap:wrap}
.route-filters__label{font-size:.8rem;letter-spacing:.12em;text-transform:uppercase;color:rgba(224,225,221,0.7)}
.route-filters__chips{display:flex;flex-wrap:wrap;gap:8px}
.route-filter{position:relative}
.route-filter__label{font-weight:600}
.route-filter__count{margin-left:8px;font-size:.75rem;font-weight:600;color:rgba(224,225,221,0.75)}
.route-filter--inactive{opacity:.45}
.route-filter--inactive .route-filter__count{color:rgba(224,225,221,0.5)}
.route-filters__reset{background:none;border:none;color:var(--accent,#778da9);cursor:pointer;padding:0}
.route-filters__reset:focus-visible{outline:2px solid var(--accent,#778da9);outline-offset:2px}
.route-filters__empty{margin:0;color:var(--muted,rgba(224,225,221,0.7))}

.type-map-layout{display:grid;gap:24px;margin-top:20px}
@media (min-width:960px){.type-map-layout{grid-template-columns:minmax(0,1fr) minmax(0,320px);align-items:stretch}}
.type-map{position:relative;width:100%;aspect-ratio:1;border-radius:28px;background:radial-gradient(140% 120% at 50% 18%,rgba(129,211,255,0.18),rgba(8,16,32,0.95) 65%),linear-gradient(135deg,rgba(91,53,202,0.32),rgba(255,114,71,0.18));border:1px solid rgba(255,255,255,0.08);overflow:hidden;box-shadow:0 40px 80px rgba(4,10,26,0.5);padding:clamp(12px,3vw,22px)}
.type-map::before{content:"";position:absolute;inset:0;background-image:radial-gradient(circle at 50% 50%,rgba(255,255,255,0.08) 0,rgba(255,255,255,0) 52%),linear-gradient(0deg,rgba(255,255,255,0.05) 1px,transparent 1px),linear-gradient(90deg,rgba(255,255,255,0.05) 1px,transparent 1px);background-size:100% 100%,26px 26px,26px 26px;opacity:.65;mix-blend-mode:screen;pointer-events:none}
.type-map::after{content:"";position:absolute;inset:-40%;background:conic-gradient(from 180deg at 50% 50%,rgba(255,255,255,0.12),rgba(255,255,255,0),rgba(255,255,255,0));opacity:.35;pointer-events:none}
.type-map__connections{position:absolute;inset:0;width:100%;height:100%;pointer-events:none}
.type-map__nodes{position:absolute;inset:0}
.type-map__node{--type-color:#9aa6c6;--type-color-rgb:154,166,198;position:absolute;top:var(--type-y);left:var(--type-x);transform:translate(-50%,-50%);display:flex;flex-direction:column;align-items:center;gap:clamp(6px,1.8vw,8px);padding:clamp(10px,2.8vw,16px) clamp(12px,3vw,20px) clamp(8px,2.4vw,14px);border-radius:18px;border:2px solid rgba(255,255,255,0.1);background:linear-gradient(180deg,rgba(var(--type-color-rgb),0.35),rgba(12,20,36,0.75));color:#f0f4f8;text-transform:uppercase;font-weight:700;font-size:clamp(.68rem,2vw,.95rem);letter-spacing:.06em;box-shadow:0 14px 32px rgba(0,0,0,0.45);cursor:pointer;transition:transform .2s ease,box-shadow .2s ease,border-color .2s ease,background .2s ease;width:clamp(64px,20vw,116px);min-width:0}
.type-map__node:focus-visible,.type-map__node:hover{transform:translate(-50%,-50%) scale(1.06);box-shadow:0 16px 40px rgba(0,0,0,0.52);border-color:rgba(255,255,255,0.28);outline:none}
.type-map__node-ring{position:absolute;inset:-18px;background:radial-gradient(circle at 50% 50%,rgba(255,255,255,0.18),rgba(255,255,255,0) 68%);opacity:0;transition:opacity .25s ease;pointer-events:none;border-radius:50%}
.type-map__node-visual{position:relative;z-index:1;width:clamp(44px,14vw,62px);height:clamp(44px,14vw,62px);border-radius:50%;display:flex;align-items:center;justify-content:center;background:linear-gradient(160deg,rgba(8,16,32,0.78),rgba(8,16,32,0.6));box-shadow:0 12px 28px rgba(0,0,0,0.45),inset 0 0 0 1px rgba(255,255,255,0.08);overflow:hidden}
.type-map__node-icon{width:100%;height:100%;object-fit:cover;border-radius:50%;transform:scale(1.08);filter:drop-shadow(0 6px 12px rgba(0,0,0,0.45))}
.type-map__node--focus .type-map__node-visual{box-shadow:0 16px 36px rgba(0,0,0,0.55),0 0 0 2px rgba(var(--type-color-rgb),0.6)}
.type-map__node--ally .type-map__node-visual{box-shadow:0 14px 32px rgba(0,0,0,0.5),0 0 0 2px rgba(107,230,126,0.45)}
.type-map__node--danger .type-map__node-visual{box-shadow:0 14px 32px rgba(0,0,0,0.5),0 0 0 2px rgba(255,114,71,0.4)}
.type-map__node:hover .type-map__node-ring,.type-map__node:focus-visible .type-map__node-ring,.type-map__node--focus .type-map__node-ring{opacity:.85;background:radial-gradient(circle at 50% 50%,rgba(var(--type-color-rgb),0.6) 0,rgba(255,255,255,0) 72%)}
.type-map__node-name{position:relative;z-index:1}
.type-map__node-meta{position:relative;z-index:1;display:flex;gap:clamp(6px,2vw,8px)}
.type-map__node-pill{display:inline-flex;align-items:center;justify-content:center;min-width:clamp(22px,8vw,28px);height:clamp(22px,8vw,28px);border-radius:999px;font-size:clamp(.62rem,1.8vw,.72rem);font-weight:800;letter-spacing:.08em;background:rgba(255,255,255,0.1);color:#f0f4f8;border:1px solid rgba(255,255,255,0.18);box-shadow:inset 0 0 6px rgba(0,0,0,0.35)}
.type-map__node-pill--strong{background:rgba(var(--type-color-rgb),0.45);border-color:rgba(var(--type-color-rgb),0.7)}
.type-map__node-pill--weak{background:rgba(255,94,102,0.22);border-color:rgba(255,94,102,0.45)}
.type-map__node--focus{border-color:rgba(var(--type-color-rgb),0.78);box-shadow:0 20px 46px rgba(0,0,0,0.6),0 0 28px rgba(var(--type-color-rgb),0.6)}
.type-map__node--ally{box-shadow:0 0 0 2px rgba(107,230,126,0.38) inset}
.type-map__node--danger{box-shadow:0 0 0 2px rgba(255,114,71,0.35) inset}
.type-map__link{--type-color:#f0f4f8;--type-color-rgb:240,244,248;fill:none;stroke:var(--type-color);stroke-width:1.6;stroke-linecap:round;stroke-linejoin:round;opacity:.35;transition:opacity .3s ease,stroke-width .3s ease,filter .3s ease;pointer-events:none;color:var(--type-color)}
.type-map__link--active{stroke-width:2.6;opacity:.92;filter:drop-shadow(0 0 10px rgba(var(--type-color-rgb),0.55))}
.type-map__link--incoming{stroke-dasharray:5 4;opacity:.55}
.type-map__link--dim{opacity:.14;filter:blur(.4px)}
.type-map__legend{margin-top:18px;font-size:.95rem;color:rgba(240,244,248,0.78);text-align:center}
.type-map__source{margin:6px 0 0;font-size:.85rem;color:rgba(240,244,248,0.7);text-align:center}
.type-map__source a{color:rgba(129,211,255,0.88);text-decoration:none;font-weight:600}
.type-map__source a:hover,.type-map__source a:focus-visible{text-decoration:underline}
.type-map__detail{background:rgba(8,16,32,0.85);border-radius:24px;border:1px solid rgba(255,255,255,0.08);padding:24px;display:flex;flex-direction:column;gap:18px;box-shadow:0 34px 64px rgba(4,10,26,0.48);color:#f0f4f8;min-height:100%}
.type-map__detail-header{display:flex;flex-direction:column;gap:6px}
.type-map__detail-chip{display:inline-flex;align-items:center;justify-content:flex-start;gap:10px;font-size:clamp(1.05rem,2.8vw,1.3rem);font-weight:800;letter-spacing:.08em;text-transform:uppercase;background:linear-gradient(135deg,rgba(var(--type-color-rgb),0.65),rgba(8,16,32,0.55));border-radius:999px;padding:clamp(10px,2.6vw,12px) clamp(14px,3.4vw,18px);border:1px solid rgba(var(--type-color-rgb),0.7);box-shadow:0 10px 24px rgba(0,0,0,0.35)}
.type-map__detail-icon{width:clamp(32px,10vw,38px);height:clamp(32px,10vw,38px);object-fit:cover;border-radius:50%;transform:scale(1.05);filter:drop-shadow(0 6px 12px rgba(0,0,0,0.45))}
.type-map__detail-sub{font-size:.9rem;color:rgba(240,244,248,0.7);text-transform:uppercase;letter-spacing:.12em}
.type-map__detail-columns{display:grid;gap:18px}
@media (min-width:640px){.type-map__detail-columns{grid-template-columns:repeat(2,minmax(0,1fr))}}
.type-map__detail-columns h4{margin:0 0 8px;font-size:1rem;text-transform:uppercase;letter-spacing:.1em;color:rgba(var(--type-color-rgb),0.85)}
.type-map__detail-list{list-style:none;margin:0;padding:0;display:grid;gap:6px}
.type-map__detail-list li{background:rgba(255,255,255,0.05);border:1px solid rgba(255,255,255,0.12);border-radius:12px;padding:10px 14px;font-weight:600;letter-spacing:.04em}
.type-map__detail-empty{margin:0;font-style:italic;color:rgba(240,244,248,0.6)}
.type-map__detail-note{margin:0;font-size:.9rem;color:rgba(240,244,248,0.75);line-height:1.5}
.type-audit{margin-top:24px;background:rgba(8,16,32,0.8);border-radius:24px;border:1px solid rgba(255,255,255,0.08);padding:20px;display:grid;gap:16px;box-shadow:0 30px 60px rgba(4,10,26,0.4)}
.type-audit__title{margin:0;font-size:1.05rem;text-transform:uppercase;letter-spacing:.12em;color:rgba(240,244,248,0.85)}
.type-audit__list{list-style:none;margin:0;padding:0;display:grid;gap:12px}
.type-audit__item{display:grid;gap:8px;padding:14px 16px;border-radius:16px;background:rgba(255,255,255,0.05);border:1px solid rgba(255,255,255,0.08)}
.type-audit__item-header{display:flex;align-items:center;gap:10px;font-weight:700;letter-spacing:.08em;text-transform:uppercase;color:rgba(240,244,248,0.82)}
.type-audit__item-icon{width:32px;height:32px;border-radius:50%;object-fit:cover;box-shadow:0 6px 12px rgba(0,0,0,0.45)}
.type-audit__item-text{margin:0;font-size:.95rem;line-height:1.6;color:rgba(240,244,248,0.78)}
@media (max-width:720px){.type-map-layout{gap:20px}.type-map{border-radius:24px}.type-map__detail{border-radius:20px;padding:20px}.type-audit{border-radius:20px;padding:16px}.type-audit__item{padding:12px 14px}.type-audit__item-text{font-size:.9rem}}
@media (max-width:520px){.type-map{border-radius:22px;padding:16px}.type-map__node{border-width:1.5px}.type-map__detail{padding:18px;gap:16px}.type-map__detail-columns{gap:14px}.type-map__detail-note{font-size:.85rem}.type-audit{gap:14px}.type-audit__title{font-size:1rem}.type-audit__item-header{font-size:.85rem}}
