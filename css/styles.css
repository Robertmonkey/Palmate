.card{background:var(--card-bg,rgba(14,32,52,0.92));border-radius:18px;padding:16px 20px;margin:16px 0;box-shadow:0 8px 24px rgba(0,0,0,0.35);border:1px solid rgba(255,255,255,0.04)}
.card h3{margin-top:0}
.badges{display:flex;flex-wrap:wrap;gap:8px}
.btn{background:var(--secondary,#415a77);border:none;border-radius:999px;color:var(--text,#f0f4f8);cursor:pointer;font-size:0.95rem;font-weight:600;padding:10px 18px;transition:transform 0.2s ease,background 0.2s ease;min-height:44px}
.btn:hover{background:var(--accent,#778da9);transform:translateY(-1px)}
.btn:active{transform:scale(0.98)}
.chip{display:inline-flex;align-items:center;justify-content:center;padding:8px 14px;border-radius:999px;background:rgba(119,141,169,0.18);color:var(--text,#f0f4f8);font-size:0.9rem;font-weight:600;text-decoration:none;border:1px solid rgba(119,141,169,0.4);min-height:40px}
.chip.link{cursor:pointer;background:rgba(119,141,169,0.24)}
.chip.link:hover{background:rgba(119,141,169,0.4)}
.step-group{margin:12px 0}
.step-list{display:grid;gap:10px;margin:12px 0}
.step{display:flex;align-items:flex-start;gap:12px;padding:10px;border:1px solid #22314A;border-radius:12px;background:#101828}
.step input[type=checkbox]{width:24px;height:24px}
.step.optional{opacity:.95}
.step-meta{display:flex;flex-direction:column;gap:6px;flex:1}
.step .step-text{line-height:1.4}
.step .badges{margin-left:auto}
.step-category{display:inline-flex;align-items:center;font-size:.7rem;font-weight:700;letter-spacing:.08em;text-transform:uppercase;padding:2px 10px;border-radius:999px;background:rgba(119,141,169,0.2);color:#e0e9f5}
.step-category--base{background:rgba(94,163,255,0.22);color:#e6f2ff}
.step-category--gear{background:rgba(255,196,77,0.22);color:#fff4d6}
.step-category--tech{background:rgba(206,135,255,0.22);color:#f5e9ff}
.step-category--catch{background:rgba(125,214,134,0.22);color:#eaffed}
.step-category--prep{background:rgba(255,160,122,0.22);color:#ffe8e0}
.step-category--explore{background:rgba(132,206,235,0.22);color:#e7f6ff}
.step-category--boss{background:rgba(255,116,140,0.24);color:#ffe7ec}
.pulse{animation:pulse 1.2s ease-out 1}
@keyframes pulse{0%{box-shadow:0 0 0 0 rgba(105,228,166,.8)}100%{box-shadow:0 0 0 14px rgba(105,228,166,0)}}

.type-map-layout{display:grid;gap:24px;margin-top:20px}
@media (min-width:960px){.type-map-layout{grid-template-columns:minmax(0,1fr) minmax(0,320px);align-items:stretch}}
.type-map{position:relative;width:100%;aspect-ratio:1;border-radius:28px;background:radial-gradient(140% 120% at 50% 18%,rgba(129,211,255,0.18),rgba(8,16,32,0.95) 65%),linear-gradient(135deg,rgba(91,53,202,0.32),rgba(255,114,71,0.18));border:1px solid rgba(255,255,255,0.08);overflow:hidden;box-shadow:0 40px 80px rgba(4,10,26,0.5)}
.type-map::before{content:"";position:absolute;inset:0;background-image:radial-gradient(circle at 50% 50%,rgba(255,255,255,0.08) 0,rgba(255,255,255,0) 52%),linear-gradient(0deg,rgba(255,255,255,0.05) 1px,transparent 1px),linear-gradient(90deg,rgba(255,255,255,0.05) 1px,transparent 1px);background-size:100% 100%,26px 26px,26px 26px;opacity:.65;mix-blend-mode:screen;pointer-events:none}
.type-map::after{content:"";position:absolute;inset:-40%;background:conic-gradient(from 180deg at 50% 50%,rgba(255,255,255,0.12),rgba(255,255,255,0),rgba(255,255,255,0));opacity:.35;pointer-events:none}
.type-map__connections{position:absolute;inset:0;width:100%;height:100%;pointer-events:none}
.type-map__nodes{position:absolute;inset:0}
.type-map__node{--type-color:#9aa6c6;--type-color-rgb:154,166,198;position:absolute;top:var(--type-y);left:var(--type-x);transform:translate(-50%,-50%);display:flex;flex-direction:column;align-items:center;gap:8px;padding:16px 20px 14px;border-radius:18px;border:2px solid rgba(255,255,255,0.1);background:linear-gradient(160deg,rgba(12,20,36,0.92),rgba(12,20,36,0.68));color:#f0f4f8;text-transform:uppercase;font-weight:700;font-size:.95rem;letter-spacing:.06em;box-shadow:0 14px 32px rgba(0,0,0,0.45);cursor:pointer;transition:transform .2s ease,box-shadow .2s ease,border-color .2s ease,background .2s ease;min-width:96px}
.type-map__node:focus-visible,.type-map__node:hover{transform:translate(-50%,-50%) scale(1.06);box-shadow:0 16px 40px rgba(0,0,0,0.52);border-color:rgba(255,255,255,0.28);outline:none}
.type-map__node-ring{position:absolute;inset:-18px;background:radial-gradient(circle at 50% 50%,rgba(255,255,255,0.18),rgba(255,255,255,0) 68%);opacity:0;transition:opacity .25s ease;pointer-events:none;border-radius:50%}
.type-map__node-visual{position:relative;z-index:1;width:62px;height:62px;border-radius:50%;display:flex;align-items:center;justify-content:center;background:linear-gradient(160deg,rgba(8,16,32,0.78),rgba(8,16,32,0.6));box-shadow:0 12px 28px rgba(0,0,0,0.45),inset 0 0 0 1px rgba(255,255,255,0.08)}
.type-map__node-icon{width:42px;height:42px;object-fit:contain;filter:drop-shadow(0 6px 12px rgba(0,0,0,0.45))}
.type-map__node--focus .type-map__node-visual{box-shadow:0 16px 36px rgba(0,0,0,0.55),0 0 0 2px rgba(var(--type-color-rgb),0.6)}
.type-map__node--ally .type-map__node-visual{box-shadow:0 14px 32px rgba(0,0,0,0.5),0 0 0 2px rgba(107,230,126,0.45)}
.type-map__node--danger .type-map__node-visual{box-shadow:0 14px 32px rgba(0,0,0,0.5),0 0 0 2px rgba(255,114,71,0.4)}
.type-map__node:hover .type-map__node-ring,.type-map__node:focus-visible .type-map__node-ring,.type-map__node--focus .type-map__node-ring{opacity:.85;background:radial-gradient(circle at 50% 50%,rgba(var(--type-color-rgb),0.6) 0,rgba(255,255,255,0) 72%)}
.type-map__node-name{position:relative;z-index:1}
.type-map__node-meta{position:relative;z-index:1;display:flex;gap:8px}
.type-map__node-pill{display:inline-flex;align-items:center;justify-content:center;min-width:26px;height:26px;border-radius:999px;font-size:.7rem;font-weight:800;letter-spacing:.08em;background:rgba(255,255,255,0.1);color:#f0f4f8;border:1px solid rgba(255,255,255,0.18);box-shadow:inset 0 0 6px rgba(0,0,0,0.35)}
.type-map__node-pill--strong{background:rgba(var(--type-color-rgb),0.45);border-color:rgba(var(--type-color-rgb),0.7)}
.type-map__node-pill--weak{background:rgba(255,94,102,0.22);border-color:rgba(255,94,102,0.45)}
.type-map__node--focus{border-color:rgba(var(--type-color-rgb),0.78);box-shadow:0 20px 46px rgba(0,0,0,0.6),0 0 28px rgba(var(--type-color-rgb),0.6)}
.type-map__node--ally{box-shadow:0 0 0 2px rgba(107,230,126,0.38) inset}
.type-map__node--danger{box-shadow:0 0 0 2px rgba(255,114,71,0.35) inset}
.type-map__link{--type-color:#f0f4f8;--type-color-rgb:240,244,248;fill:none;stroke:var(--type-color);stroke-width:1.6;stroke-linecap:round;stroke-linejoin:round;opacity:.35;transition:opacity .3s ease,stroke-width .3s ease,filter .3s ease;pointer-events:none;color:var(--type-color)}
.type-map__link--active{stroke-width:2.6;opacity:.92;filter:drop-shadow(0 0 10px rgba(var(--type-color-rgb),0.55))}
.type-map__link--incoming{stroke-dasharray:5 4;opacity:.55}
.type-map__link--dim{opacity:.14;filter:blur(.4px)}
.type-map__legend{margin-top:18px;font-size:.95rem;color:rgba(240,244,248,0.78);text-align:center}
.type-map__detail{background:rgba(8,16,32,0.85);border-radius:24px;border:1px solid rgba(255,255,255,0.08);padding:24px;display:flex;flex-direction:column;gap:18px;box-shadow:0 34px 64px rgba(4,10,26,0.48);color:#f0f4f8;min-height:100%}
.type-map__detail-header{display:flex;flex-direction:column;gap:6px}
.type-map__detail-chip{display:inline-flex;align-items:center;justify-content:flex-start;gap:10px;font-size:1.3rem;font-weight:800;letter-spacing:.08em;text-transform:uppercase;background:linear-gradient(135deg,rgba(var(--type-color-rgb),0.65),rgba(8,16,32,0.55));border-radius:999px;padding:12px 18px;border:1px solid rgba(var(--type-color-rgb),0.7);box-shadow:0 10px 24px rgba(0,0,0,0.35)}
.type-map__detail-icon{width:38px;height:38px;object-fit:contain;filter:drop-shadow(0 6px 12px rgba(0,0,0,0.45))}
.type-map__detail-sub{font-size:.9rem;color:rgba(240,244,248,0.7);text-transform:uppercase;letter-spacing:.12em}
.type-map__detail-columns{display:grid;gap:18px}
@media (min-width:640px){.type-map__detail-columns{grid-template-columns:repeat(2,minmax(0,1fr))}}
.type-map__detail-columns h4{margin:0 0 8px;font-size:1rem;text-transform:uppercase;letter-spacing:.1em;color:rgba(var(--type-color-rgb),0.85)}
.type-map__detail-list{list-style:none;margin:0;padding:0;display:grid;gap:6px}
.type-map__detail-list li{background:rgba(255,255,255,0.05);border:1px solid rgba(255,255,255,0.12);border-radius:12px;padding:10px 14px;font-weight:600;letter-spacing:.04em}
.type-map__detail-empty{margin:0;font-style:italic;color:rgba(240,244,248,0.6)}
.type-map__detail-note{margin:0;font-size:.9rem;color:rgba(240,244,248,0.75);line-height:1.5}
